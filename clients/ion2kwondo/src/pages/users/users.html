<!--
  Generated template for the UsersPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
        </button>
    <ion-title>Utenti</ion-title>
    <ion-buttons end>
        <button ion-button clear (tap)="sortUsers()"><ion-icon name="md-funnel"></ion-icon></button>
        <button ion-button clear (tap)="doRefresh()"><ion-icon name="refresh"></ion-icon></button>
      </ion-buttons>
  </ion-navbar>
  <ion-item>
        <ion-label>{{users.length}} utenti</ion-label>
        <ion-select [(ngModel)]="filter" multiple="false" (ionChange)='changeFilter($event)' >
          <ion-option selected value="">Tutti</ion-option>
          <ion-option value="nonapprovati">Non approvati</ion-option>
          <ion-option value="approvati">Approvati</ion-option>
          <ion-option value="potentialios">Potenziali iOS</ion-option>
          
        </ion-select>
      </ion-item>
  <!--<ion-item>{{users.length}} utenti definiti</ion-item>-->
</ion-header>


<ion-content spadding class="ion-content">
    <div *ngIf="loading" style="width: 100%; text-align: center">
        <ion-spinner name="ios"></ion-spinner>
      </div>

 
  <br>

    <ion-item *ngFor="let u of users" >
     

          <div class="usernick" (tap)="showUser(u)">{{u.doc.nickname}}</div>
          <div class="useremail">{{u.doc.email}}</div>
          
          <div>
          
        
          <button ion-button small (tap)="deleteUser(u)">Elimina</button>
          <button *ngIf="needsApprove(u)" ion-button small (tap)="approveUser(u)">Approva</button>
        </div>
       
    </ion-item>


</ion-content>
