var Zone = (function (global) {
    var FUNCTION = 'function';
    var performance = global['performance'];
    function mark(name) {
        performance && performance['mark'] && performance['mark'](name);
    }
    function performanceMeasure(name, label) {
        performance && performance['measure'] && performance['measure'](name, label);
    }
    mark('Zone');
    if (global['Zone']) {
        throw new Error('Zone already loaded.');
    }
    var Zone = (function () {
        function Zone(parent, zoneSpec) {
            this._properties = null;
            this._parent = parent;
            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';
            this._properties = zoneSpec && zoneSpec.properties || {};
            this._zoneDelegate =
                new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);
        }
        Zone.assertZonePatched = function () {
            if (global['Promise'] !== patches['ZoneAwarePromise']) {
                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +
                    'has been overwritten.\n' +
                    'Most likely cause is that a Promise polyfill has been loaded ' +
                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +
                    'If you must load one, do so before loading zone.js.)');
            }
        };
        Object.defineProperty(Zone, "root", {
            get: function () {
                var zone = Zone.current;
                while (zone.parent) {
                    zone = zone.parent;
                }
                return zone;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Zone, "current", {
            get: function () {
                return _currentZoneFrame.zone;
            },
            enumerable: true,
            configurable: true
        });
        ;
        Object.defineProperty(Zone, "currentTask", {
            get: function () {
                return _currentTask;
            },
            enumerable: true,
            configurable: true
        });
        ;
        Zone.__load_patch = function (name, fn) {
            if (patches.hasOwnProperty(name)) {
                throw Error('Already loaded patch: ' + name);
            }
            else if (!global['__Zone_disable_' + name]) {
                var perfName = 'Zone:' + name;
                mark(perfName);
                patches[name] = fn(global, Zone, _api);
                performanceMeasure(perfName, perfName);
            }
        };
        Object.defineProperty(Zone.prototype, "parent", {
            get: function () {
                return this._parent;
            },
            enumerable: true,
            configurable: true
        });
        ;
        Object.defineProperty(Zone.prototype, "name", {
            get: function () {
                return this._name;
            },
            enumerable: true,
            configurable: true
        });
        ;
        Zone.prototype.get = function (key) {
            var zone = this.getZoneWith(key);
            if (zone)
                return zone._properties[key];
        };
        Zone.prototype.getZoneWith = function (key) {
            var current = this;
            while (current) {
                if (current._properties.hasOwnProperty(key)) {
                    return current;
                }
                current = current._parent;
            }
            return null;
        };
        Zone.prototype.fork = function (zoneSpec) {
            if (!zoneSpec)
                throw new Error('ZoneSpec required!');
            return this._zoneDelegate.fork(this, zoneSpec);
        };
        Zone.prototype.wrap = function (callback, source) {
            if (typeof callback !== FUNCTION) {
                throw new Error('Expecting function got: ' + callback);
            }
            var _callback = this._zoneDelegate.intercept(this, callback, source);
            var zone = this;
            return function () {
                return zone.runGuarded(_callback, this, arguments, source);
            };
        };
        Zone.prototype.run = function (callback, applyThis, applyArgs, source) {
            if (applyThis === void 0) { applyThis = undefined; }
            if (applyArgs === void 0) { applyArgs = null; }
            if (source === void 0) { source = null; }
            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };
            try {
                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);
            }
            finally {
                _currentZoneFrame = _currentZoneFrame.parent;
            }
        };
        Zone.prototype.runGuarded = function (callback, applyThis, applyArgs, source) {
            if (applyThis === void 0) { applyThis = null; }
            if (applyArgs === void 0) { applyArgs = null; }
            if (source === void 0) { source = null; }
            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };
            try {
                try {
                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);
                }
                catch (error) {
                    if (this._zoneDelegate.handleError(this, error)) {
                        throw error;
                    }
                }
            }
            finally {
                _currentZoneFrame = _currentZoneFrame.parent;
            }
        };
        Zone.prototype.runTask = function (task, applyThis, applyArgs) {
            if (task.zone != this) {
                throw new Error('A task can only be run in the zone of creation! (Creation: ' +
                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');
            }
            var isNotScheduled = task.state === notScheduled;
            if (isNotScheduled && task.type === eventTask) {
                return;
            }
            var reEntryGuard = task.state != running;
            reEntryGuard && task._transitionTo(running, scheduled);
            task.runCount++;
            var previousTask = _currentTask;
            _currentTask = task;
            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };
            try {
                if (task.type == macroTask && task.data && !task.data.isPeriodic) {
                    task.cancelFn = null;
                }
                try {
                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);
                }
                catch (error) {
                    if (this._zoneDelegate.handleError(this, error)) {
                        throw error;
                    }
                }
            }
            finally {
                if (task.state !== notScheduled && task.state !== unknown) {
                    if (task.type == eventTask || (task.data && task.data.isPeriodic)) {
                        reEntryGuard && task._transitionTo(scheduled, running);
                    }
                    else {
                        task.runCount = 0;
                        this._updateTaskCount(task, -1);
                        reEntryGuard &&
                            task._transitionTo(notScheduled, running, notScheduled);
                    }
                }
                _currentZoneFrame = _currentZoneFrame.parent;
                _currentTask = previousTask;
            }
        };
        Zone.prototype.scheduleTask = function (task) {
            if (task.zone && task.zone !== this) {
                var newZone = this;
                while (newZone) {
                    if (newZone === task.zone) {
                        throw Error("can not reschedule task to " + this
                            .name + " which is descendants of the original zone " + task.zone.name);
                    }
                    newZone = newZone.parent;
                }
            }
            task._transitionTo(scheduling, notScheduled);
            var zoneDelegates = [];
            task._zoneDelegates = zoneDelegates;
            task._zone = this;
            try {
                task = this._zoneDelegate.scheduleTask(this, task);
            }
            catch (err) {
                task._transitionTo(unknown, scheduling, notScheduled);
                this._zoneDelegate.handleError(this, err);
                throw err;
            }
            if (task._zoneDelegates === zoneDelegates) {
                this._updateTaskCount(task, 1);
            }
            if (task.state == scheduling) {
                task._transitionTo(scheduled, scheduling);
            }
            return task;
        };
        Zone.prototype.scheduleMicroTask = function (source, callback, data, customSchedule) {
            return this.scheduleTask(new ZoneTask(microTask, source, callback, data, customSchedule, null));
        };
        Zone.prototype.scheduleMacroTask = function (source, callback, data, customSchedule, customCancel) {
            return this.scheduleTask(new ZoneTask(macroTask, source, callback, data, customSchedule, customCancel));
        };
        Zone.prototype.scheduleEventTask = function (source, callback, data, customSchedule, customCancel) {
            return this.scheduleTask(new ZoneTask(eventTask, source, callback, data, customSchedule, customCancel));
        };
        Zone.prototype.cancelTask = function (task) {
            if (task.zone != this)
                throw new Error('A task can only be cancelled in the zone of creation! (Creation: ' +
                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');
            task._transitionTo(canceling, scheduled, running);
            try {
                this._zoneDelegate.cancelTask(this, task);
            }
            catch (err) {
                task._transitionTo(unknown, canceling);
                this._zoneDelegate.handleError(this, err);
                throw err;
            }
            this._updateTaskCount(task, -1);
            task._transitionTo(notScheduled, canceling);
            task.runCount = 0;
            return task;
        };
        Zone.prototype._updateTaskCount = function (task, count) {
            var zoneDelegates = task._zoneDelegates;
            if (count == -1) {
                task._zoneDelegates = null;
            }
            for (var i = 0; i < zoneDelegates.length; i++) {
                zoneDelegates[i]._updateTaskCount(task.type, count);
            }
        };
        Zone.__symbol__ = __symbol__;
        return Zone;
    }());
    var DELEGATE_ZS = {
        name: '',
        onHasTask: function (delegate, _, target, hasTaskState) {
            return delegate.hasTask(target, hasTaskState);
        },
        onScheduleTask: function (delegate, _, target, task) {
            return delegate.scheduleTask(target, task);
        },
        onInvokeTask: function (delegate, _, target, task, applyThis, applyArgs) { return delegate.invokeTask(target, task, applyThis, applyArgs); },
        onCancelTask: function (delegate, _, target, task) {
            return delegate.cancelTask(target, task);
        }
    };
    var ZoneDelegate = (function () {
        function ZoneDelegate(zone, parentDelegate, zoneSpec) {
            this._taskCounts = { 'microTask': 0, 'macroTask': 0, 'eventTask': 0 };
            this.zone = zone;
            this._parentDelegate = parentDelegate;
            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);
            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);
            this._forkCurrZone = zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate.zone);
            this._interceptZS =
                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);
            this._interceptDlgt =
                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);
            this._interceptCurrZone =
                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate.zone);
            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);
            this._invokeDlgt =
                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);
            this._invokeCurrZone = zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate.zone);
            this._handleErrorZS =
                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);
            this._handleErrorDlgt =
                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);
            this._handleErrorCurrZone =
                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate.zone);
            this._scheduleTaskZS =
                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);
            this._scheduleTaskDlgt =
                zoneSpec && (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);
            this._scheduleTaskCurrZone =
                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate.zone);
            this._invokeTaskZS =
                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);
            this._invokeTaskDlgt =
                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);
            this._invokeTaskCurrZone =
                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate.zone);
            this._cancelTaskZS =
                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);
            this._cancelTaskDlgt =
                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);
            this._cancelTaskCurrZone =
                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate.zone);
            this._hasTaskZS = null;
            this._hasTaskDlgt = null;
            this._hasTaskDlgtOwner = null;
            this._hasTaskCurrZone = null;
            var zoneSpecHasTask = zoneSpec && zoneSpec.onHasTask;
            var parentHasTask = parentDelegate && parentDelegate._hasTaskZS;
            if (zoneSpecHasTask || parentHasTask) {
                this._hasTaskZS = zoneSpecHasTask ? zoneSpec : DELEGATE_ZS;
                this._hasTaskDlgt = parentDelegate;
                this._hasTaskDlgtOwner = this;
                this._hasTaskCurrZone = zone;
                if (!zoneSpec.onScheduleTask) {
                    this._scheduleTaskZS = DELEGATE_ZS;
                    this._scheduleTaskDlgt = parentDelegate;
                    this._scheduleTaskCurrZone = this.zone;
                }
                if (!zoneSpec.onInvokeTask) {
                    this._invokeTaskZS = DELEGATE_ZS;
                    this._invokeTaskDlgt = parentDelegate;
                    this._invokeTaskCurrZone = this.zone;
                }
                if (!zoneSpec.onCancelTask) {
                    this._cancelTaskZS = DELEGATE_ZS;
                    this._cancelTaskDlgt = parentDelegate;
                    this._cancelTaskCurrZone = this.zone;
                }
            }
        }
        ZoneDelegate.prototype.fork = function (targetZone, zoneSpec) {
            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :
                new Zone(targetZone, zoneSpec);
        };
        ZoneDelegate.prototype.intercept = function (targetZone, callback, source) {
            return this._interceptZS ?
                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :
                callback;
        };
        ZoneDelegate.prototype.invoke = function (targetZone, callback, applyThis, applyArgs, source) {
            return this._invokeZS ?
                this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :
                callback.apply(applyThis, applyArgs);
        };
        ZoneDelegate.prototype.handleError = function (targetZone, error) {
            return this._handleErrorZS ?
                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :
                true;
        };
        ZoneDelegate.prototype.scheduleTask = function (targetZone, task) {
            var returnTask = task;
            if (this._scheduleTaskZS) {
                if (this._hasTaskZS) {
                    returnTask._zoneDelegates.push(this._hasTaskDlgtOwner);
                }
                returnTask = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);
                if (!returnTask)
                    returnTask = task;
            }
            else {
                if (task.scheduleFn) {
                    task.scheduleFn(task);
                }
                else if (task.type == microTask) {
                    scheduleMicroTask(task);
                }
                else {
                    throw new Error('Task is missing scheduleFn.');
                }
            }
            return returnTask;
        };
        ZoneDelegate.prototype.invokeTask = function (targetZone, task, applyThis, applyArgs) {
            return this._invokeTaskZS ?
                this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :
                task.callback.apply(applyThis, applyArgs);
        };
        ZoneDelegate.prototype.cancelTask = function (targetZone, task) {
            var value;
            if (this._cancelTaskZS) {
                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);
            }
            else {
                if (!task.cancelFn) {
                    throw Error('Task is not cancelable');
                }
                value = task.cancelFn(task);
            }
            return value;
        };
        ZoneDelegate.prototype.hasTask = function (targetZone, isEmpty) {
            try {
                return this._hasTaskZS &&
                    this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);
            }
            catch (err) {
                this.handleError(targetZone, err);
            }
        };
        ZoneDelegate.prototype._updateTaskCount = function (type, count) {
            var counts = this._taskCounts;
            var prev = counts[type];
            var next = counts[type] = prev + count;
            if (next < 0) {
                throw new Error('More tasks executed then were scheduled.');
            }
            if (prev == 0 || next == 0) {
                var isEmpty = {
                    microTask: counts['microTask'] > 0,
                    macroTask: counts['macroTask'] > 0,
                    eventTask: counts['eventTask'] > 0,
                    change: type
                };
                this.hasTask(this.zone, isEmpty);
            }
        };
        return ZoneDelegate;
    }());
    var ZoneTask = (function () {
        function ZoneTask(type, source, callback, options, scheduleFn, cancelFn) {
            this._zone = null;
            this.runCount = 0;
            this._zoneDelegates = null;
            this._state = 'notScheduled';
            this.type = type;
            this.source = source;
            this.data = options;
            this.scheduleFn = scheduleFn;
            this.cancelFn = cancelFn;
            this.callback = callback;
            var self = this;
            if (type === eventTask && options && options.isUsingGlobalCallback) {
                this.invoke = ZoneTask.invokeTask;
            }
            else {
                this.invoke = function () {
                    return ZoneTask.invokeTask.apply(global, [self, this, arguments]);
                };
            }
        }
        ZoneTask.invokeTask = function (task, target, args) {
            if (!task) {
                task = this;
            }
            _numberOfNestedTaskFrames++;
            try {
                task.runCount++;
                return task.zone.runTask(task, target, args);
            }
            finally {
                if (_numberOfNestedTaskFrames == 1) {
                    drainMicroTaskQueue();
                }
                _numberOfNestedTaskFrames--;
            }
        };
        Object.defineProperty(ZoneTask.prototype, "zone", {
            get: function () {
                return this._zone;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ZoneTask.prototype, "state", {
            get: function () {
                return this._state;
            },
            enumerable: true,
            configurable: true
        });
        ZoneTask.prototype.cancelScheduleRequest = function () {
            this._transitionTo(notScheduled, scheduling);
        };
        ZoneTask.prototype._transitionTo = function (toState, fromState1, fromState2) {
            if (this._state === fromState1 || this._state === fromState2) {
                this._state = toState;
                if (toState == notScheduled) {
                    this._zoneDelegates = null;
                }
            }
            else {
                throw new Error(this.type + " '" + this.source + "': can not transition to '" + toState + "', expecting state '" + fromState1 + "'" + (fromState2 ?
                    ' or \'' + fromState2 + '\'' :
                    '') + ", was '" + this._state + "'.");
            }
        };
        ZoneTask.prototype.toString = function () {
            if (this.data && typeof this.data.handleId !== 'undefined') {
                return this.data.handleId;
            }
            else {
                return Object.prototype.toString.call(this);
            }
        };
        ZoneTask.prototype.toJSON = function () {
            return {
                type: this.type,
                state: this.state,
                source: this.source,
                zone: this.zone.name,
                invoke: this.invoke,
                scheduleFn: this.scheduleFn,
                cancelFn: this.cancelFn,
                runCount: this.runCount,
                callback: this.callback
            };
        };
        return ZoneTask;
    }());
    var symbolSetTimeout = __symbol__('setTimeout');
    var symbolPromise = __symbol__('Promise');
    var symbolThen = __symbol__('then');
    var _microTaskQueue = [];
    var _isDrainingMicrotaskQueue = false;
    var nativeMicroTaskQueuePromise;
    function scheduleMicroTask(task) {
        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {
            if (!nativeMicroTaskQueuePromise) {
                if (global[symbolPromise]) {
                    nativeMicroTaskQueuePromise = global[symbolPromise].resolve(0);
                }
            }
            if (nativeMicroTaskQueuePromise) {
                nativeMicroTaskQueuePromise[symbolThen](drainMicroTaskQueue);
            }
            else {
                global[symbolSetTimeout](drainMicroTaskQueue, 0);
            }
        }
        task && _microTaskQueue.push(task);
    }
    function drainMicroTaskQueue() {
        if (!_isDrainingMicrotaskQueue) {
            _isDrainingMicrotaskQueue = true;
            while (_microTaskQueue.length) {
                var queue = _microTaskQueue;
                _microTaskQueue = [];
                for (var i = 0; i < queue.length; i++) {
                    var task = queue[i];
                    try {
                        task.zone.runTask(task, null, null);
                    }
                    catch (error) {
                        _api.onUnhandledError(error);
                    }
                }
            }
            var showError = !Zone[__symbol__('ignoreConsoleErrorUncaughtError')];
            _api.microtaskDrainDone();
            _isDrainingMicrotaskQueue = false;
        }
    }
    var NO_ZONE = { name: 'NO ZONE' };
    var notScheduled = 'notScheduled', scheduling = 'scheduling', scheduled = 'scheduled', running = 'running', canceling = 'canceling', unknown = 'unknown';
    var microTask = 'microTask', macroTask = 'macroTask', eventTask = 'eventTask';
    var patches = {};
    var _api = {
        symbol: __symbol__,
        currentZoneFrame: function () { return _currentZoneFrame; },
        onUnhandledError: noop,
        microtaskDrainDone: noop,
        scheduleMicroTask: scheduleMicroTask,
        showUncaughtError: function () { return !Zone[__symbol__('ignoreConsoleErrorUncaughtError')]; },
        patchEventTarget: function () { return []; },
        patchOnProperties: noop,
        patchMethod: function () { return noop; },
    };
    var _currentZoneFrame = { parent: null, zone: new Zone(null, null) };
    var _currentTask = null;
    var _numberOfNestedTaskFrames = 0;
    function noop() { }
    function __symbol__(name) {
        return '__zone_symbol__' + name;
    }
    performanceMeasure('Zone', 'Zone');
    return global['Zone'] = Zone;
})(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9uZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInpvbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaW5CQSxJQUFNLElBQUksR0FBYSxDQUFDLFVBQVMsTUFBVztJQUMxQyxJQUFNLFFBQVEsR0FBRyxVQUFVLENBQUM7SUFFNUIsSUFBTSxXQUFXLEdBQ2IsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzFCLGNBQWMsSUFBWTtRQUN4QixXQUFXLElBQUksV0FBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBQ0QsNEJBQTRCLElBQVksRUFBRSxLQUFhO1FBQ3JELFdBQVcsSUFBSSxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMvRSxDQUFDO0lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2IsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVEO1FBcURFLGNBQVksTUFBWSxFQUFFLFFBQWtCO1lBSHBDLGdCQUFXLEdBQXlCLElBQUksQ0FBQztZQUkvQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztZQUN0QixJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsR0FBRyxRQUFRLENBQUMsSUFBSSxJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUM7WUFDOUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxRQUFRLElBQUksUUFBUSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7WUFDekQsSUFBSSxDQUFDLGFBQWE7Z0JBQ2QsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFD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QVU7UUFDbEIsZ0JBQWdCLEVBQUUsY0FBTSxPQUFBLGlCQUFpQixFQUFqQixDQUFpQjtRQUN6QyxnQkFBZ0IsRUFBRSxJQUFJO1FBQ3RCLGtCQUFrQixFQUFFLElBQUk7UUFDeEIsaUJBQWlCLEVBQUUsaUJBQWlCO1FBQ3BDLGlCQUFpQixFQUFFLGNBQU0sT0FBQSxDQUFFLElBQVksQ0FBQyxVQUFVLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxFQUE3RCxDQUE2RDtRQUN0RixnQkFBZ0IsRUFBRSxjQUFNLE9BQUEsRUFBRSxFQUFGLENBQUU7UUFDMUIsaUJBQWlCLEVBQUUsSUFBSTtRQUN2QixXQUFXLEVBQUUsY0FBTSxPQUFBLElBQUksRUFBSixDQUFJO0tBQ3hCLENBQUM7SUFDRixJQUFJLGlCQUFpQixHQUFlLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFDLENBQUM7SUFDL0UsSUFBSSxZQUFZLEdBQVMsSUFBSSxDQUFDO0lBQzlCLElBQUkseUJBQXlCLEdBQUcsQ0FBQyxDQUFDO0lBRWxDLGtCQUFpQixDQUFDO0lBRWxCLG9CQUFvQixJQUFZO1FBQzlCLE1BQU0sQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7SUFDbEMsQ0FBQztJQUdELGtCQUFrQixDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztBQUMvQixDQUFDLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxXQUFXLElBQUksTUFBTSxJQUFJLE9BQU8sSUFBSSxLQUFLLFdBQVcsSUFBSSxJQUFJLElBQUksTUFBTSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qXG4gKiBTdXBwcmVzcyBjbG9zdXJlIGNvbXBpbGVyIGVycm9ycyBhYm91dCB1bmtub3duICdnbG9iYWwnIHZhcmlhYmxlXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge3VuZGVmaW5lZFZhcnN9XG4gKi9cblxuLyoqXG4gKiBab25lIGlzIGEgbWVjaGFuaXNtIGZvciBpbnRlcmNlcHRpbmcgYW5kIGtlZXBpbmcgdHJhY2sgb2YgYXN5bmNocm9ub3VzIHdvcmsuXG4gKlxuICogQSBab25lIGlzIGEgZ2xvYmFsIG9iamVjdCB3aGljaCBpcyBjb25maWd1cmVkIHdpdGggcnVsZXMgYWJvdXQgaG93IHRvIGludGVyY2VwdCBhbmQga2VlcCB0cmFja1xuICogb2YgdGhlIGFzeW5jaHJvbm91cyBjYWxsYmFja3MuIFpvbmUgaGFzIHRoZXNlIHJlc3BvbnNpYmlsaXRpZXM6XG4gKlxuICogMS4gSW50ZXJjZXB0IGFzeW5jaHJvbm91cyB0YXNrIHNjaGVkdWxpbmdcbiAqIDIuIFdyYXAgY2FsbGJhY2tzIGZvciBlcnJvci1oYW5kbGluZyBhbmQgem9uZSB0cmFja2luZyBhY3Jvc3MgYXN5bmMgb3BlcmF0aW9ucy5cbiAqIDMuIFByb3ZpZGUgYSB3YXkgdG8gYXR0YWNoIGRhdGEgdG8gem9uZXNcbiAqIDQuIFByb3ZpZGUgYSBjb250ZXh0IHNwZWNpZmljIGxhc3QgZnJhbWUgZXJyb3IgaGFuZGxpbmdcbiAqIDUuIChJbnRlcmNlcHQgYmxvY2tpbmcgbWV0aG9kcylcbiAqXG4gKiBBIHpvbmUgYnkgaXRzZWxmIGRvZXMgbm90IGRvIGFueXRoaW5nLCBpbnN0ZWFkIGl0IHJlbGllcyBvbiBzb21lIG90aGVyIGNvZGUgdG8gcm91dGUgZXhpc3RpbmdcbiAqIHBsYXRmb3JtIEFQSSB0aHJvdWdoIGl0LiAoVGhlIHpvbmUgbGlicmFyeSBzaGlwcyB3aXRoIGNvZGUgd2hpY2ggbW9ua2V5IHBhdGNoZXMgYWxsIG9mIHRoZVxuICogYnJvd3NlcnMncyBhc3luY2hyb25vdXMgQVBJIGFuZCByZWRpcmVjdHMgdGhlbSB0aHJvdWdoIHRoZSB6b25lIGZvciBpbnRlcmNlcHRpb24uKVxuICpcbiAqIEluIGl0cyBzaW1wbGVzdCBmb3JtIGEgem9uZSBhbGxvd3Mgb25lIHRvIGludGVyY2VwdCB0aGUgc2NoZWR1bGluZyBhbmQgY2FsbGluZyBvZiBhc3luY2hyb25vdXNcbiAqIG9wZXJhdGlvbnMsIGFuZCBleGVjdXRlIGFkZGl0aW9uYWwgY29kZSBiZWZvcmUgYXMgd2VsbCBhcyBhZnRlciB0aGUgYXN5bmNocm9ub3VzIHRhc2suIFRoZSBydWxlc1xuICogb2YgaW50ZXJjZXB0aW9uIGFyZSBjb25maWd1cmVkIHVzaW5nIFtab25lQ29uZmlnXS4gVGhlcmUgY2FuIGJlIG1hbnkgZGlmZmVyZW50IHpvbmUgaW5zdGFuY2VzIGluXG4gKiBhIHN5c3RlbSwgYnV0IG9ubHkgb25lIHpvbmUgaXMgYWN0aXZlIGF0IGFueSBnaXZlbiB0aW1lIHdoaWNoIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmdcbiAqIFtab25lI2N1cnJlbnRdLlxuICpcbiAqXG4gKlxuICogIyMgQ2FsbGJhY2sgV3JhcHBpbmdcbiAqXG4gKiBBbiBpbXBvcnRhbnQgYXNwZWN0IG9mIHRoZSB6b25lcyBpcyB0aGF0IHRoZXkgc2hvdWxkIHBlcnNpc3QgYWNyb3NzIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zLiBUb1xuICogYWNoaWV2ZSB0aGlzLCB3aGVuIGEgZnV0dXJlIHdvcmsgaXMgc2NoZWR1bGVkIHRocm91Z2ggYXN5bmMgQVBJLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FwdHVyZSwgYW5kXG4gKiBzdWJzZXF1ZW50bHkgcmVzdG9yZSB0aGUgY3VycmVudCB6b25lLiBGb3IgZXhhbXBsZSBpZiBhIGNvZGUgaXMgcnVubmluZyBpbiB6b25lIGBiYCBhbmQgaXRcbiAqIGludm9rZXMgYHNldFRpbWVvdXRgIHRvIHNjaGVkdWxlVGFzayB3b3JrIGxhdGVyLCB0aGUgYHNldFRpbWVvdXRgIG1ldGhvZCBuZWVkcyB0byAxKSBjYXB0dXJlIHRoZVxuICogY3VycmVudCB6b25lIGFuZCAyKSB3cmFwIHRoZSBgd3JhcENhbGxiYWNrYCBpbiBjb2RlIHdoaWNoIHdpbGwgcmVzdG9yZSB0aGUgY3VycmVudCB6b25lIGBiYCBvbmNlXG4gKiB0aGUgd3JhcENhbGxiYWNrIGV4ZWN1dGVzLiBJbiB0aGlzIHdheSB0aGUgcnVsZXMgd2hpY2ggZ292ZXJuIHRoZSBjdXJyZW50IGNvZGUgYXJlIHByZXNlcnZlZCBpblxuICogYWxsIGZ1dHVyZSBhc3luY2hyb25vdXMgdGFza3MuIFRoZXJlIGNvdWxkIGJlIGEgZGlmZmVyZW50IHpvbmUgYGNgIHdoaWNoIGhhcyBkaWZmZXJlbnQgcnVsZXMgYW5kXG4gKiBpcyBhc3NvY2lhdGVkIHdpdGggZGlmZmVyZW50IGFzeW5jaHJvbm91cyB0YXNrcy4gQXMgdGhlc2UgdGFza3MgYXJlIHByb2Nlc3NlZCwgZWFjaCBhc3luY2hyb25vdXNcbiAqIHdyYXBDYWxsYmFjayBjb3JyZWN0bHkgcmVzdG9yZXMgdGhlIGNvcnJlY3Qgem9uZSwgYXMgd2VsbCBhcyBwcmVzZXJ2ZXMgdGhlIHpvbmUgZm9yIGZ1dHVyZVxuICogYXN5bmNocm9ub3VzIGNhbGxiYWNrcy5cbiAqXG4gKiBFeGFtcGxlOiBTdXBwb3NlIGEgYnJvd3NlciBwYWdlIGNvbnNpc3Qgb2YgYXBwbGljYXRpb24gY29kZSBhcyB3ZWxsIGFzIHRoaXJkLXBhcnR5XG4gKiBhZHZlcnRpc2VtZW50IGNvZGUuIChUaGVzZSB0d28gY29kZSBiYXNlcyBhcmUgaW5kZXBlbmRlbnQsIGRldmVsb3BlZCBieSBkaWZmZXJlbnQgbXV0dWFsbHlcbiAqIHVuYXdhcmUgZGV2ZWxvcGVycy4pIFRoZSBhcHBsaWNhdGlvbiBjb2RlIG1heSBiZSBpbnRlcmVzdGVkIGluIGRvaW5nIGdsb2JhbCBlcnJvciBoYW5kbGluZyBhbmRcbiAqIHNvIGl0IGNvbmZpZ3VyZXMgdGhlIGBhcHBgIHpvbmUgdG8gc2VuZCBhbGwgb2YgdGhlIGVycm9ycyB0byB0aGUgc2VydmVyIGZvciBhbmFseXNpcywgYW5kIHRoZW5cbiAqIGV4ZWN1dGVzIHRoZSBhcHBsaWNhdGlvbiBpbiB0aGUgYGFwcGAgem9uZS4gVGhlIGFkdmVydGlzaW5nIGNvZGUgaXMgaW50ZXJlc3RlZCBpbiB0aGUgc2FtZVxuICogZXJyb3IgcHJvY2Vzc2luZyBidXQgaXQgbmVlZHMgdG8gc2VuZCB0aGUgZXJyb3JzIHRvIGEgZGlmZmVyZW50IHRoaXJkLXBhcnR5LiBTbyBpdCBjcmVhdGVzIHRoZVxuICogYGFkc2Agem9uZSB3aXRoIGEgZGlmZmVyZW50IGVycm9yIGhhbmRsZXIuIE5vdyBib3RoIGFkdmVydGlzaW5nIGFzIHdlbGwgYXMgYXBwbGljYXRpb24gY29kZVxuICogY3JlYXRlIG1hbnkgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMsIGJ1dCB0aGUgW1pvbmVdIHdpbGwgZW5zdXJlIHRoYXQgYWxsIG9mIHRoZSBhc3luY2hyb25vdXNcbiAqIG9wZXJhdGlvbnMgY3JlYXRlZCBmcm9tIHRoZSBhcHBsaWNhdGlvbiBjb2RlIHdpbGwgZXhlY3V0ZSBpbiBgYXBwYCB6b25lIHdpdGggaXRzIGVycm9yXG4gKiBoYW5kbGVyIGFuZCBhbGwgb2YgdGhlIGFkdmVydGlzZW1lbnQgY29kZSB3aWxsIGV4ZWN1dGUgaW4gdGhlIGBhZHNgIHpvbmUgd2l0aCBpdHMgZXJyb3IgaGFuZGxlci5cbiAqIFRoaXMgd2lsbCBub3Qgb25seSB3b3JrIGZvciB0aGUgYXN5bmMgb3BlcmF0aW9ucyBjcmVhdGVkIGRpcmVjdGx5LCBidXQgYWxzbyBmb3IgYWxsIHN1YnNlcXVlbnRcbiAqIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zLlxuICpcbiAqIElmIHlvdSB0aGluayBvZiBjaGFpbiBvZiBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyBhcyBhIHRocmVhZCBvZiBleGVjdXRpb24gKGJpdCBvZiBhIHN0cmV0Y2gpXG4gKiB0aGVuIFtab25lI2N1cnJlbnRdIHdpbGwgYWN0IGFzIGEgdGhyZWFkIGxvY2FsIHZhcmlhYmxlLlxuICpcbiAqXG4gKlxuICogIyMgQXN5bmNocm9ub3VzIG9wZXJhdGlvbiBzY2hlZHVsaW5nXG4gKlxuICogSW4gYWRkaXRpb24gdG8gd3JhcHBpbmcgdGhlIGNhbGxiYWNrcyB0byByZXN0b3JlIHRoZSB6b25lLCBhbGwgb3BlcmF0aW9ucyB3aGljaCBjYXVzZSBhXG4gKiBzY2hlZHVsaW5nIG9mIHdvcmsgZm9yIGxhdGVyIGFyZSByb3V0ZWQgdGhyb3VnaCB0aGUgY3VycmVudCB6b25lIHdoaWNoIGlzIGFsbG93ZWQgdG8gaW50ZXJjZXB0XG4gKiB0aGVtIGJ5IGFkZGluZyB3b3JrIGJlZm9yZSBvciBhZnRlciB0aGUgd3JhcENhbGxiYWNrIGFzIHdlbGwgYXMgdXNpbmcgZGlmZmVyZW50IG1lYW5zIG9mXG4gKiBhY2hpZXZpbmcgdGhlIHJlcXVlc3QuIChVc2VmdWwgZm9yIHVuaXQgdGVzdGluZywgb3IgdHJhY2tpbmcgb2YgcmVxdWVzdHMpLiBJbiBzb21lIGluc3RhbmNlc1xuICogc3VjaCBhcyBgc2V0VGltZW91dGAgdGhlIHdyYXBwaW5nIG9mIHRoZSB3cmFwQ2FsbGJhY2sgYW5kIHNjaGVkdWxpbmcgaXMgZG9uZSBpbiB0aGUgc2FtZVxuICogd3JhcENhbGxiYWNrLCBidXQgdGhlcmUgYXJlIG90aGVyIGV4YW1wbGVzIHN1Y2ggYXMgYFByb21pc2VzYCB3aGVyZSB0aGUgYHRoZW5gIHdyYXBDYWxsYmFjayBpc1xuICogd3JhcHBlZCwgYnV0IHRoZSBleGVjdXRpb24gb2YgYHRoZW5gIGluIHRyaWdnZXJlZCBieSBgUHJvbWlzZWAgc2NoZWR1bGluZyBgcmVzb2x2ZWAgd29yay5cbiAqXG4gKiBGdW5kYW1lbnRhbGx5IHRoZXJlIGFyZSB0aHJlZSBraW5kcyBvZiB0YXNrcyB3aGljaCBjYW4gYmUgc2NoZWR1bGVkOlxuICpcbiAqIDEuIFtNaWNyb1Rhc2tdIHVzZWQgZm9yIGRvaW5nIHdvcmsgcmlnaHQgYWZ0ZXIgdGhlIGN1cnJlbnQgdGFzay4gVGhpcyBpcyBub24tY2FuY2VsYWJsZSB3aGljaCBpc1xuICogICAgZ3VhcmFudGVlZCB0byBydW4gZXhhY3RseSBvbmNlIGFuZCBpbW1lZGlhdGVseS5cbiAqIDIuIFtNYWNyb1Rhc2tdIHVzZWQgZm9yIGRvaW5nIHdvcmsgbGF0ZXIuIFN1Y2ggYXMgYHNldFRpbWVvdXRgLiBUaGlzIGlzIHR5cGljYWxseSBjYW5jZWxhYmxlXG4gKiAgICB3aGljaCBpcyBndWFyYW50ZWVkIHRvIGV4ZWN1dGUgYXQgbGVhc3Qgb25jZSBhZnRlciBzb21lIHdlbGwgdW5kZXJzdG9vZCBkZWxheS5cbiAqIDMuIFtFdmVudFRhc2tdIHVzZWQgZm9yIGxpc3RlbmluZyBvbiBzb21lIGZ1dHVyZSBldmVudC4gVGhpcyBtYXkgZXhlY3V0ZSB6ZXJvIG9yIG1vcmUgdGltZXMsIHdpdGhcbiAqICAgIGFuIHVua25vd24gZGVsYXkuXG4gKlxuICogRWFjaCBhc3luY2hyb25vdXMgQVBJIGlzIG1vZGVsZWQgYW5kIHJvdXRlZCB0aHJvdWdoIG9uZSBvZiB0aGVzZSBBUElzLlxuICpcbiAqXG4gKiAjIyMgW01pY3JvVGFza11cbiAqXG4gKiBbTWljcm9UYXNrXXMgcmVwcmVzZW50IHdvcmsgd2hpY2ggd2lsbCBiZSBkb25lIGluIGN1cnJlbnQgVk0gdHVybiBhcyBzb29uIGFzIHBvc3NpYmxlLCBiZWZvcmUgVk1cbiAqIHlpZWxkaW5nLlxuICpcbiAqXG4gKiAjIyMgW1RpbWVyVGFza11cbiAqXG4gKiBbVGltZXJUYXNrXXMgcmVwcmVzZW50IHdvcmsgd2hpY2ggd2lsbCBiZSBkb25lIGFmdGVyIHNvbWUgZGVsYXkuIChTb21ldGltZXMgdGhlIGRlbGF5IGlzXG4gKiBhcHByb3hpbWF0ZSBzdWNoIGFzIG9uIG5leHQgYXZhaWxhYmxlIGFuaW1hdGlvbiBmcmFtZSkuIFR5cGljYWxseSB0aGVzZSBtZXRob2RzIGluY2x1ZGU6XG4gKiBgc2V0VGltZW91dGAsIGBzZXRJbW1lZGlhdGVgLCBgc2V0SW50ZXJ2YWxgLCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCwgYW5kIGFsbCBicm93c2VyIHNwZWNpZlxuICogdmFyaWFudHMuXG4gKlxuICpcbiAqICMjIyBbRXZlbnRUYXNrXVxuICpcbiAqIFtFdmVudFRhc2tdcyByZXByZXNlbnQgYSByZXF1ZXN0IHRvIGNyZWF0ZSBhIGxpc3RlbmVyIG9uIGFuIGV2ZW50LiBVbmxpa2UgdGhlIG90aGVyIHRhc2tcbiAqIGV2ZW50cyBtYXkgbmV2ZXIgYmUgZXhlY3V0ZWQsIGJ1dCB0eXBpY2FsbHkgZXhlY3V0ZSBtb3JlIHRoYW4gb25jZS4gVGhlcmUgaXMgbm8gcXVldWUgb2ZcbiAqIGV2ZW50cywgcmF0aGVyIHRoZWlyIGNhbGxiYWNrcyBhcmUgdW5wcmVkaWN0YWJsZSBib3RoIGluIG9yZGVyIGFuZCB0aW1lLlxuICpcbiAqXG4gKiAjIyBHbG9iYWwgRXJyb3IgSGFuZGxpbmdcbiAqXG4gKlxuICogIyMgQ29tcG9zYWJpbGl0eVxuICpcbiAqIFpvbmVzIGNhbiBiZSBjb21wb3NlZCB0b2dldGhlciB0aHJvdWdoIFtab25lLmZvcmsoKV0uIEEgY2hpbGQgem9uZSBtYXkgY3JlYXRlIGl0cyBvd24gc2V0IG9mXG4gKiBydWxlcy4gQSBjaGlsZCB6b25lIGlzIGV4cGVjdGVkIHRvIGVpdGhlcjpcbiAqXG4gKiAxLiBEZWxlZ2F0ZSB0aGUgaW50ZXJjZXB0aW9uIHRvIGEgcGFyZW50IHpvbmUsIGFuZCBvcHRpb25hbGx5IGFkZCBiZWZvcmUgYW5kIGFmdGVyIHdyYXBDYWxsYmFja1xuICogICAgaG9vay5zXG4gKiAyKSBPciBwcm9jZXNzIHRoZSByZXF1ZXN0IGl0c2VsZiB3aXRob3V0IGRlbGVnYXRpb24uXG4gKlxuICogQ29tcG9zYWJpbGl0eSBhbGxvd3Mgem9uZXMgdG8ga2VlcCB0aGVpciBjb25jZXJucyBjbGVhbi4gRm9yIGV4YW1wbGUgYSB0b3AgbW9zdCB6b25lIG1heSBjaG9zZVxuICogdG8gaGFuZGxlIGVycm9yIGhhbmRsaW5nLCB3aGlsZSBjaGlsZCB6b25lcyBtYXkgY2hvc2UgdG8gZG8gdXNlciBhY3Rpb24gdHJhY2tpbmcuXG4gKlxuICpcbiAqICMjIFJvb3QgWm9uZVxuICpcbiAqIEF0IHRoZSBzdGFydCB0aGUgYnJvd3NlciB3aWxsIHJ1biBpbiBhIHNwZWNpYWwgcm9vdCB6b25lLCB3aGljaCBpcyBjb25maWd1cmUgdG8gYmVoYXZlIGV4YWN0bHlcbiAqIGxpa2UgdGhlIHBsYXRmb3JtLCBtYWtpbmcgYW55IGV4aXN0aW5nIGNvZGUgd2hpY2ggaXMgbm90LXpvbmUgYXdhcmUgYmVoYXZlIGFzIGV4cGVjdGVkLiBBbGxcbiAqIHpvbmVzIGFyZSBjaGlsZHJlbiBvZiB0aGUgcm9vdCB6b25lLlxuICpcbiAqL1xuaW50ZXJmYWNlIFpvbmUge1xuICAvKipcbiAgICpcbiAgICogQHJldHVybnMge1pvbmV9IFRoZSBwYXJlbnQgWm9uZS5cbiAgICovXG4gIHBhcmVudDogWm9uZTtcbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBab25lIG5hbWUgKHVzZWZ1bCBmb3IgZGVidWdnaW5nKVxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBga2V5YC5cbiAgICpcbiAgICogSWYgdGhlIGN1cnJlbnQgem9uZSBkb2VzIG5vdCBoYXZlIGEga2V5LCB0aGUgcmVxdWVzdCBpcyBkZWxlZ2F0ZWQgdG8gdGhlIHBhcmVudCB6b25lLiBVc2VcbiAgICogW1pvbmVTcGVjLnByb3BlcnRpZXNdIHRvIGNvbmZpZ3VyZSB0aGUgc2V0IG9mIHByb3BlcnRpZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHpvbmUuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byByZXRyaWV2ZS5cbiAgICogQHJldHVybnMge2FueX0gVGhlIHZhbHVlIGZvciB0aGUga2V5LCBvciBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuXG4gICAqL1xuICBnZXQoa2V5OiBzdHJpbmcpOiBhbnk7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgWm9uZSB3aGljaCBkZWZpbmVzIGEgYGtleWAuXG4gICAqXG4gICAqIFJlY3Vyc2l2ZWx5IHNlYXJjaCB0aGUgcGFyZW50IFpvbmUgdW50aWwgYSBab25lIHdoaWNoIGhhcyBhIHByb3BlcnR5IGBrZXlgIGlzIGZvdW5kLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGZvciBpZGVudGlmaWNhdGlvbiBvZiB0aGUgcmV0dXJuZWQgem9uZS5cbiAgICogQHJldHVybnMge1pvbmV9IFRoZSBab25lIHdoaWNoIGRlZmluZXMgdGhlIGBrZXlgLCBgbnVsbGAgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgZ2V0Wm9uZVdpdGgoa2V5OiBzdHJpbmcpOiBab25lO1xuICAvKipcbiAgICogVXNlZCB0byBjcmVhdGUgYSBjaGlsZCB6b25lLlxuICAgKlxuICAgKiBAcGFyYW0gem9uZVNwZWMgQSBzZXQgb2YgcnVsZXMgd2hpY2ggdGhlIGNoaWxkIHpvbmUgc2hvdWxkIGZvbGxvdy5cbiAgICogQHJldHVybnMge1pvbmV9IEEgbmV3IGNoaWxkIHpvbmUuXG4gICAqL1xuICBmb3JrKHpvbmVTcGVjOiBab25lU3BlYyk6IFpvbmU7XG4gIC8qKlxuICAgKiBXcmFwcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGluIGEgbmV3IGZ1bmN0aW9uIHdoaWNoIHdpbGwgcHJvcGVybHkgcmVzdG9yZSB0aGUgY3VycmVudCB6b25lIHVwb25cbiAgICogaW52b2NhdGlvbi5cbiAgICpcbiAgICogVGhlIHdyYXBwZWQgZnVuY3Rpb24gd2lsbCBwcm9wZXJseSBmb3J3YXJkIGB0aGlzYCBhcyB3ZWxsIGFzIGBhcmd1bWVudHNgIHRvIHRoZSBgY2FsbGJhY2tgLlxuICAgKlxuICAgKiBCZWZvcmUgdGhlIGZ1bmN0aW9uIGlzIHdyYXBwZWQgdGhlIHpvbmUgY2FuIGludGVyY2VwdCB0aGUgYGNhbGxiYWNrYCBieSBkZWNsYXJpbmdcbiAgICogW1pvbmVTcGVjLm9uSW50ZXJjZXB0XS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIHdyYXBwZWQgaW4gdGhlIHpvbmUuXG4gICAqIEBwYXJhbSBzb3VyY2UgQSB1bmlxdWUgZGVidWcgbG9jYXRpb24gb2YgdGhlIEFQSSBiZWluZyB3cmFwcGVkLlxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKTogKn0gQSBmdW5jdGlvbiB3aGljaCB3aWxsIGludm9rZSB0aGUgYGNhbGxiYWNrYCB0aHJvdWdoIFtab25lLnJ1bkd1YXJkZWRdLlxuICAgKi9cbiAgd3JhcDxGIGV4dGVuZHMgRnVuY3Rpb24+KGNhbGxiYWNrOiBGLCBzb3VyY2U6IHN0cmluZyk6IEY7XG4gIC8qKlxuICAgKiBJbnZva2VzIGEgZnVuY3Rpb24gaW4gYSBnaXZlbiB6b25lLlxuICAgKlxuICAgKiBUaGUgaW52b2NhdGlvbiBvZiBgY2FsbGJhY2tgIGNhbiBiZSBpbnRlcmNlcHRlZCBieSBkZWNsYXJpbmcgW1pvbmVTcGVjLm9uSW52b2tlXS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSBhcHBseVRoaXNcbiAgICogQHBhcmFtIGFwcGx5QXJnc1xuICAgKiBAcGFyYW0gc291cmNlIEEgdW5pcXVlIGRlYnVnIGxvY2F0aW9uIG9mIHRoZSBBUEkgYmVpbmcgaW52b2tlZC5cbiAgICogQHJldHVybnMge2FueX0gVmFsdWUgZnJvbSB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbi5cbiAgICovXG4gIHJ1bjxUPihjYWxsYmFjazogRnVuY3Rpb24sIGFwcGx5VGhpcz86IGFueSwgYXBwbHlBcmdzPzogYW55W10sIHNvdXJjZT86IHN0cmluZyk6IFQ7XG4gIC8qKlxuICAgKiBJbnZva2VzIGEgZnVuY3Rpb24gaW4gYSBnaXZlbiB6b25lIGFuZCBjYXRjaGVzIGFueSBleGNlcHRpb25zLlxuICAgKlxuICAgKiBBbnkgZXhjZXB0aW9ucyB0aHJvd24gd2lsbCBiZSBmb3J3YXJkZWQgdG8gW1pvbmUuSGFuZGxlRXJyb3JdLlxuICAgKlxuICAgKiBUaGUgaW52b2NhdGlvbiBvZiBgY2FsbGJhY2tgIGNhbiBiZSBpbnRlcmNlcHRlZCBieSBkZWNsYXJpbmcgW1pvbmVTcGVjLm9uSW52b2tlXS4gVGhlXG4gICAqIGhhbmRsaW5nIG9mIGV4Y2VwdGlvbnMgY2FuIGludGVyY2VwdGVkIGJ5IGRlY2xhcmluZyBbWm9uZVNwZWMuaGFuZGxlRXJyb3JdLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIGFwcGx5VGhpc1xuICAgKiBAcGFyYW0gYXBwbHlBcmdzXG4gICAqIEBwYXJhbSBzb3VyY2UgQSB1bmlxdWUgZGVidWcgbG9jYXRpb24gb2YgdGhlIEFQSSBiZWluZyBpbnZva2VkLlxuICAgKiBAcmV0dXJucyB7YW55fSBWYWx1ZSBmcm9tIHRoZSBgY2FsbGJhY2tgIGZ1bmN0aW9uLlxuICAgKi9cbiAgcnVuR3VhcmRlZDxUPihjYWxsYmFjazogRnVuY3Rpb24sIGFwcGx5VGhpcz86IGFueSwgYXBwbHlBcmdzPzogYW55W10sIHNvdXJjZT86IHN0cmluZyk6IFQ7XG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBUYXNrIGJ5IHJlc3RvcmluZyB0aGUgW1pvbmUuY3VycmVudFRhc2tdIGluIHRoZSBUYXNrJ3Mgem9uZS5cbiAgICpcbiAgICogQHBhcmFtIHRhc2sgdG8gcnVuXG4gICAqIEBwYXJhbSBhcHBseVRoaXNcbiAgICogQHBhcmFtIGFwcGx5QXJnc1xuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHJ1blRhc2sodGFzazogVGFzaywgYXBwbHlUaGlzPzogYW55LCBhcHBseUFyZ3M/OiBhbnkpOiBhbnk7XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgTWljcm9UYXNrLlxuICAgKlxuICAgKiBAcGFyYW0gc291cmNlXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKiBAcGFyYW0gZGF0YVxuICAgKiBAcGFyYW0gY3VzdG9tU2NoZWR1bGVcbiAgICovXG4gIHNjaGVkdWxlTWljcm9UYXNrKFxuICAgICAgc291cmNlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgZGF0YT86IFRhc2tEYXRhLFxuICAgICAgY3VzdG9tU2NoZWR1bGU/OiAodGFzazogVGFzaykgPT4gdm9pZCk6IE1pY3JvVGFzaztcblxuICAvKipcbiAgICogU2NoZWR1bGUgYSBNYWNyb1Rhc2suXG4gICAqXG4gICAqIEBwYXJhbSBzb3VyY2VcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEBwYXJhbSBjdXN0b21TY2hlZHVsZVxuICAgKiBAcGFyYW0gY3VzdG9tQ2FuY2VsXG4gICAqL1xuICBzY2hlZHVsZU1hY3JvVGFzayhcbiAgICAgIHNvdXJjZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIGRhdGE6IFRhc2tEYXRhLCBjdXN0b21TY2hlZHVsZTogKHRhc2s6IFRhc2spID0+IHZvaWQsXG4gICAgICBjdXN0b21DYW5jZWw6ICh0YXNrOiBUYXNrKSA9PiB2b2lkKTogTWFjcm9UYXNrO1xuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhbiBFdmVudFRhc2suXG4gICAqXG4gICAqIEBwYXJhbSBzb3VyY2VcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEBwYXJhbSBjdXN0b21TY2hlZHVsZVxuICAgKiBAcGFyYW0gY3VzdG9tQ2FuY2VsXG4gICAqL1xuICBzY2hlZHVsZUV2ZW50VGFzayhcbiAgICAgIHNvdXJjZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIGRhdGE6IFRhc2tEYXRhLCBjdXN0b21TY2hlZHVsZTogKHRhc2s6IFRhc2spID0+IHZvaWQsXG4gICAgICBjdXN0b21DYW5jZWw6ICh0YXNrOiBUYXNrKSA9PiB2b2lkKTogRXZlbnRUYXNrO1xuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhbiBleGlzdGluZyBUYXNrLlxuICAgKlxuICAgKiBVc2VmdWwgZm9yIHJlc2NoZWR1bGluZyBhIHRhc2sgd2hpY2ggd2FzIGFscmVhZHkgY2FuY2VsZWQuXG4gICAqXG4gICAqIEBwYXJhbSB0YXNrXG4gICAqL1xuICBzY2hlZHVsZVRhc2s8VCBleHRlbmRzIFRhc2s+KHRhc2s6IFQpOiBUO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHpvbmUgdG8gaW50ZXJjZXB0IGNhbmNlbGluZyBvZiBzY2hlZHVsZWQgVGFzay5cbiAgICpcbiAgICogVGhlIGludGVyY2VwdGlvbiBpcyBjb25maWd1cmVkIHVzaW5nIFtab25lU3BlYy5vbkNhbmNlbFRhc2tdLiBUaGUgZGVmYXVsdCBjYW5jZWxlciBpbnZva2VzXG4gICAqIHRoZSBbVGFzay5jYW5jZWxGbl0uXG4gICAqXG4gICAqIEBwYXJhbSB0YXNrXG4gICAqIEByZXR1cm5zIHthbnl9XG4gICAqL1xuICBjYW5jZWxUYXNrKHRhc2s6IFRhc2spOiBhbnk7XG59XG5cbmludGVyZmFjZSBab25lVHlwZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Wm9uZX0gUmV0dXJucyB0aGUgY3VycmVudCBbWm9uZV0uIFJldHVybnMgdGhlIGN1cnJlbnQgem9uZS4gVGhlIG9ubHkgd2F5IHRvIGNoYW5nZVxuICAgKiB0aGUgY3VycmVudCB6b25lIGlzIGJ5IGludm9raW5nIGEgcnVuKCkgbWV0aG9kLCB3aGljaCB3aWxsIHVwZGF0ZSB0aGUgY3VycmVudCB6b25lIGZvciB0aGVcbiAgICogZHVyYXRpb24gb2YgdGhlIHJ1biBtZXRob2QgY2FsbGJhY2suXG4gICAqL1xuICBjdXJyZW50OiBab25lO1xuICAvKipcbiAgICogQHJldHVybnMge1Rhc2t9IFRoZSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBleGVjdXRpb24uXG4gICAqL1xuICBjdXJyZW50VGFzazogVGFzaztcblxuICAvKipcbiAgICogVmVyaWZ5IHRoYXQgWm9uZSBoYXMgYmVlbiBjb3JyZWN0bHkgcGF0Y2hlZC4gU3BlY2lmaWNhbGx5IHRoYXQgUHJvbWlzZSBpcyB6b25lIGF3YXJlLlxuICAgKi9cbiAgYXNzZXJ0Wm9uZVBhdGNoZWQoKTogdm9pZDtcblxuICAvKipcbiAgICogIFJldHVybiB0aGUgcm9vdCB6b25lLlxuICAgKi9cbiAgcm9vdDogWm9uZTtcblxuICAvKiogQGludGVybmFsICovXG4gIF9fbG9hZF9wYXRjaChuYW1lOiBzdHJpbmcsIGZuOiBfUGF0Y2hGbik6IHZvaWQ7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfX3N5bWJvbF9fKG5hbWU6IHN0cmluZyk6IHN0cmluZztcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xudHlwZSBfUGF0Y2hGbiA9IChnbG9iYWw6IFdpbmRvdywgWm9uZTogWm9uZVR5cGUsIGFwaTogX1pvbmVQcml2YXRlKSA9PiB2b2lkO1xuXG4vKiogQGludGVybmFsICovXG5pbnRlcmZhY2UgX1pvbmVQcml2YXRlIHtcbiAgY3VycmVudFpvbmVGcmFtZTogKCkgPT4gX1pvbmVGcmFtZTtcbiAgc3ltYm9sOiAobmFtZTogc3RyaW5nKSA9PiBzdHJpbmc7XG4gIHNjaGVkdWxlTWljcm9UYXNrOiAodGFzaz86IE1pY3JvVGFzaykgPT4gdm9pZDtcbiAgb25VbmhhbmRsZWRFcnJvcjogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbiAgbWljcm90YXNrRHJhaW5Eb25lOiAoKSA9PiB2b2lkO1xuICBzaG93VW5jYXVnaHRFcnJvcjogKCkgPT4gYm9vbGVhbjtcbiAgcGF0Y2hFdmVudFRhcmdldDogKGdsb2JhbDogYW55LCBhcGlzOiBhbnlbXSwgb3B0aW9ucz86IGFueSkgPT4gYm9vbGVhbltdO1xuICBwYXRjaE9uUHJvcGVydGllczogKG9iajogYW55LCBwcm9wZXJ0aWVzOiBzdHJpbmdbXSkgPT4gdm9pZDtcbiAgcGF0Y2hNZXRob2Q6XG4gICAgICAodGFyZ2V0OiBhbnksIG5hbWU6IHN0cmluZyxcbiAgICAgICBwYXRjaEZuOiAoZGVsZWdhdGU6IEZ1bmN0aW9uLCBkZWxlZ2F0ZU5hbWU6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PlxuICAgICAgICAgICAoc2VsZjogYW55LCBhcmdzOiBhbnlbXSkgPT4gYW55KSA9PiBGdW5jdGlvbjtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuaW50ZXJmYWNlIF9ab25lRnJhbWUge1xuICBwYXJlbnQ6IF9ab25lRnJhbWU7XG4gIHpvbmU6IFpvbmU7XG59XG5cbi8qKlxuICogUHJvdmlkZXMgYSB3YXkgdG8gY29uZmlndXJlIHRoZSBpbnRlcmNlcHRpb24gb2Ygem9uZSBldmVudHMuXG4gKlxuICogT25seSB0aGUgYG5hbWVgIHByb3BlcnR5IGlzIHJlcXVpcmVkIChhbGwgb3RoZXIgYXJlIG9wdGlvbmFsKS5cbiAqL1xuaW50ZXJmYWNlIFpvbmVTcGVjIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSB6b25lLiBVc2VmdWwgd2hlbiBkZWJ1Z2dpbmcgWm9uZXMuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgc2V0IG9mIHByb3BlcnRpZXMgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIFpvbmUuIFVzZSBbWm9uZS5nZXRdIHRvIHJldHJpZXZlIHRoZW0uXG4gICAqL1xuICBwcm9wZXJ0aWVzPzoge1trZXk6IHN0cmluZ106IGFueX07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgaW50ZXJjZXB0aW9uIG9mIHpvbmUgZm9ya2luZy5cbiAgICpcbiAgICogV2hlbiB0aGUgem9uZSBpcyBiZWluZyBmb3JrZWQsIHRoZSByZXF1ZXN0IGlzIGZvcndhcmRlZCB0byB0aGlzIG1ldGhvZCBmb3IgaW50ZXJjZXB0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIHpvbmVTcGVjIFRoZSBhcmd1bWVudCBwYXNzZWQgaW50byB0aGUgYGZvcmtgIG1ldGhvZC5cbiAgICovXG4gIG9uRm9yaz86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLFxuICAgICAgIHpvbmVTcGVjOiBab25lU3BlYykgPT4gWm9uZTtcblxuICAvKipcbiAgICogQWxsb3dzIGludGVyY2VwdGlvbiBvZiB0aGUgd3JhcHBpbmcgb2YgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIGRlbGVnYXRlIFRoZSBhcmd1bWVudCBwYXNzZWQgaW50byB0aGUgYHdhcnBgIG1ldGhvZC5cbiAgICogQHBhcmFtIHNvdXJjZSBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGB3YXJwYCBtZXRob2QuXG4gICAqL1xuICBvbkludGVyY2VwdD86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLCBkZWxlZ2F0ZTogRnVuY3Rpb24sXG4gICAgICAgc291cmNlOiBzdHJpbmcpID0+IEZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgaW50ZXJjZXB0aW9uIG9mIHRoZSBjYWxsYmFjayBpbnZvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIGRlbGVnYXRlIFRoZSBhcmd1bWVudCBwYXNzZWQgaW50byB0aGUgYHJ1bmAgbWV0aG9kLlxuICAgKiBAcGFyYW0gYXBwbHlUaGlzIFRoZSBhcmd1bWVudCBwYXNzZWQgaW50byB0aGUgYHJ1bmAgbWV0aG9kLlxuICAgKiBAcGFyYW0gYXBwbHlBcmdzIFRoZSBhcmd1bWVudCBwYXNzZWQgaW50byB0aGUgYHJ1bmAgbWV0aG9kLlxuICAgKiBAcGFyYW0gc291cmNlIFRoZSBhcmd1bWVudCBwYXNzZWQgaW50byB0aGUgYHJ1bmAgbWV0aG9kLlxuICAgKi9cbiAgb25JbnZva2U/OlxuICAgICAgKHBhcmVudFpvbmVEZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCBjdXJyZW50Wm9uZTogWm9uZSwgdGFyZ2V0Wm9uZTogWm9uZSwgZGVsZWdhdGU6IEZ1bmN0aW9uLFxuICAgICAgIGFwcGx5VGhpczogYW55LCBhcHBseUFyZ3M6IGFueVtdLCBzb3VyY2U6IHN0cmluZykgPT4gYW55O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgaW50ZXJjZXB0aW9uIG9mIHRoZSBlcnJvciBoYW5kbGluZy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudFpvbmVEZWxlZ2F0ZSBEZWxlZ2F0ZSB3aGljaCBwZXJmb3JtcyB0aGUgcGFyZW50IFtab25lU3BlY10gb3BlcmF0aW9uLlxuICAgKiBAcGFyYW0gY3VycmVudFpvbmUgVGhlIGN1cnJlbnQgW1pvbmVdIHdoZXJlIHRoZSBjdXJyZW50IGludGVyY2VwdG9yIGhhcyBiZWVuIGRlY2xhcmVkLlxuICAgKiBAcGFyYW0gdGFyZ2V0Wm9uZSBUaGUgW1pvbmVdIHdoaWNoIG9yaWdpbmFsbHkgcmVjZWl2ZWQgdGhlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSBlcnJvciBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBoYW5kbGVFcnJvcmAgbWV0aG9kLlxuICAgKi9cbiAgb25IYW5kbGVFcnJvcj86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLFxuICAgICAgIGVycm9yOiBhbnkpID0+IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFsbG93cyBpbnRlcmNlcHRpb24gb2YgdGFzayBzY2hlZHVsaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIHRhc2sgVGhlIGFyZ3VtZW50IHBhc3NlZCBpbnRvIHRoZSBgc2NoZWR1bGVUYXNrYCBtZXRob2QuXG4gICAqL1xuICBvblNjaGVkdWxlVGFzaz86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrKSA9PiBUYXNrO1xuXG4gIG9uSW52b2tlVGFzaz86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrLFxuICAgICAgIGFwcGx5VGhpczogYW55LCBhcHBseUFyZ3M6IGFueSkgPT4gYW55O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgaW50ZXJjZXB0aW9uIG9mIHRhc2sgY2FuY2VsbGF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIHRhc2sgVGhlIGFyZ3VtZW50IHBhc3NlZCBpbnRvIHRoZSBgY2FuY2VsVGFza2AgbWV0aG9kLlxuICAgKi9cbiAgb25DYW5jZWxUYXNrPzpcbiAgICAgIChwYXJlbnRab25lRGVsZWdhdGU6IFpvbmVEZWxlZ2F0ZSwgY3VycmVudFpvbmU6IFpvbmUsIHRhcmdldFpvbmU6IFpvbmUsIHRhc2s6IFRhc2spID0+IGFueTtcblxuICAvKipcbiAgICogTm90aWZpZXMgb2YgY2hhbmdlcyB0byB0aGUgdGFzayBxdWV1ZSBlbXB0eSBzdGF0dXMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnRab25lRGVsZWdhdGUgRGVsZWdhdGUgd2hpY2ggcGVyZm9ybXMgdGhlIHBhcmVudCBbWm9uZVNwZWNdIG9wZXJhdGlvbi5cbiAgICogQHBhcmFtIGN1cnJlbnRab25lIFRoZSBjdXJyZW50IFtab25lXSB3aGVyZSB0aGUgY3VycmVudCBpbnRlcmNlcHRvciBoYXMgYmVlbiBkZWNsYXJlZC5cbiAgICogQHBhcmFtIHRhcmdldFpvbmUgVGhlIFtab25lXSB3aGljaCBvcmlnaW5hbGx5IHJlY2VpdmVkIHRoZSByZXF1ZXN0LlxuICAgKiBAcGFyYW0gaGFzVGFza1N0YXRlXG4gICAqL1xuICBvbkhhc1Rhc2s/OlxuICAgICAgKHBhcmVudFpvbmVEZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCBjdXJyZW50Wm9uZTogWm9uZSwgdGFyZ2V0Wm9uZTogWm9uZSxcbiAgICAgICBoYXNUYXNrU3RhdGU6IEhhc1Rhc2tTdGF0ZSkgPT4gdm9pZDtcbn1cblxuXG4vKipcbiAqICBBIGRlbGVnYXRlIHdoZW4gaW50ZXJjZXB0aW5nIHpvbmUgb3BlcmF0aW9ucy5cbiAqXG4gKiAgQSBab25lRGVsZWdhdGUgaXMgbmVlZGVkIGJlY2F1c2UgYSBjaGlsZCB6b25lIGNhbid0IHNpbXBseSBpbnZva2UgYSBtZXRob2Qgb24gYSBwYXJlbnQgem9uZS4gRm9yXG4gKiAgZXhhbXBsZSBhIGNoaWxkIHpvbmUgd3JhcCBjYW4ndCBqdXN0IGNhbGwgcGFyZW50IHpvbmUgd3JhcC4gRG9pbmcgc28gd291bGQgY3JlYXRlIGEgY2FsbGJhY2tcbiAqICB3aGljaCBpcyBib3VuZCB0byB0aGUgcGFyZW50IHpvbmUuIFdoYXQgd2UgYXJlIGludGVyZXN0ZWQgaXMgaW50ZXJjZXB0aW5nIHRoZSBjYWxsYmFjayBiZWZvcmUgaXRcbiAqICBpcyBib3VuZCB0byBhbnkgem9uZS4gRnVydGhlcm1vcmUsIHdlIGFsc28gbmVlZCB0byBwYXNzIHRoZSB0YXJnZXRab25lICh6b25lIHdoaWNoIHJlY2VpdmVkIHRoZVxuICogIG9yaWdpbmFsIHJlcXVlc3QpIHRvIHRoZSBkZWxlZ2F0ZS5cbiAqXG4gKiAgVGhlIFpvbmVEZWxlZ2F0ZSBtZXRob2RzIG1pcnJvciB0aG9zZSBvZiBab25lIHdpdGggYW4gYWRkaXRpb24gb2YgZXh0cmEgdGFyZ2V0Wm9uZSBhcmd1bWVudCBpblxuICogIHRoZSBtZXRob2Qgc2lnbmF0dXJlLiAoVGhlIG9yaWdpbmFsIFpvbmUgd2hpY2ggcmVjZWl2ZWQgdGhlIHJlcXVlc3QuKSBTb21lIG1ldGhvZHMgYXJlIHJlbmFtZWRcbiAqICB0byBwcmV2ZW50IGNvbmZ1c2lvbiwgYmVjYXVzZSB0aGV5IGhhdmUgc2xpZ2h0bHkgZGlmZmVyZW50IHNlbWFudGljcyBhbmQgYXJndW1lbnRzLlxuICpcbiAqICAtIGB3cmFwYCA9PiBgaW50ZXJjZXB0YDogVGhlIGB3cmFwYCBtZXRob2QgZGVsZWdhdGVzIHRvIGBpbnRlcmNlcHRgLiBUaGUgYHdyYXBgIG1ldGhvZCByZXR1cm5zXG4gKiAgICAgYSBjYWxsYmFjayB3aGljaCB3aWxsIHJ1biBpbiBhIGdpdmVuIHpvbmUsIHdoZXJlIGFzIGludGVyY2VwdCBhbGxvd3Mgd3JhcHBpbmcgdGhlIGNhbGxiYWNrXG4gKiAgICAgc28gdGhhdCBhZGRpdGlvbmFsIGNvZGUgY2FuIGJlIHJ1biBiZWZvcmUgYW5kIGFmdGVyLCBidXQgZG9lcyBub3QgYXNzb2NpYXRlZCB0aGUgY2FsbGJhY2tcbiAqICAgICB3aXRoIHRoZSB6b25lLlxuICogIC0gYHJ1bmAgPT4gYGludm9rZWA6IFRoZSBgcnVuYCBtZXRob2QgZGVsZWdhdGVzIHRvIGBpbnZva2VgIHRvIHBlcmZvcm0gdGhlIGFjdHVhbCBleGVjdXRpb24gb2ZcbiAqICAgICB0aGUgY2FsbGJhY2suIFRoZSBgcnVuYCBtZXRob2Qgc3dpdGNoZXMgdG8gbmV3IHpvbmU7IHNhdmVzIGFuZCByZXN0b3JlcyB0aGUgYFpvbmUuY3VycmVudGA7XG4gKiAgICAgYW5kIG9wdGlvbmFsbHkgcGVyZm9ybXMgZXJyb3IgaGFuZGxpbmcuIFRoZSBpbnZva2UgaXMgbm90IHJlc3BvbnNpYmxlIGZvciBlcnJvciBoYW5kbGluZyxcbiAqICAgICBvciB6b25lIG1hbmFnZW1lbnQuXG4gKlxuICogIE5vdCBldmVyeSBtZXRob2QgaXMgdXN1YWxseSBvdmVyd3JpdHRlbiBpbiB0aGUgY2hpbGQgem9uZSwgZm9yIHRoaXMgcmVhc29uIHRoZSBab25lRGVsZWdhdGVcbiAqICBzdG9yZXMgdGhlIGNsb3Nlc3Qgem9uZSB3aGljaCBvdmVyd3JpdGVzIHRoaXMgYmVoYXZpb3IgYWxvbmcgd2l0aCB0aGUgY2xvc2VzdCBab25lU3BlYy5cbiAqXG4gKiAgTk9URTogV2UgaGF2ZSB0cmllZCB0byBtYWtlIHRoaXMgQVBJIGFuYWxvZ291cyB0byBFdmVudCBidWJibGluZyB3aXRoIHRhcmdldCBhbmQgY3VycmVudFxuICogIHByb3BlcnRpZXMuXG4gKlxuICogIE5vdGU6IFRoZSBab25lRGVsZWdhdGUgdHJlYXRzIFpvbmVTcGVjIGFzIGNsYXNzLiBUaGlzIGFsbG93cyB0aGUgWm9uZVNwZWMgdG8gdXNlIGl0cyBgdGhpc2AgdG9cbiAqICBzdG9yZSBpbnRlcm5hbCBzdGF0ZS5cbiAqL1xuaW50ZXJmYWNlIFpvbmVEZWxlZ2F0ZSB7XG4gIHpvbmU6IFpvbmU7XG4gIGZvcmsodGFyZ2V0Wm9uZTogWm9uZSwgem9uZVNwZWM6IFpvbmVTcGVjKTogWm9uZTtcbiAgaW50ZXJjZXB0KHRhcmdldFpvbmU6IFpvbmUsIGNhbGxiYWNrOiBGdW5jdGlvbiwgc291cmNlOiBzdHJpbmcpOiBGdW5jdGlvbjtcbiAgaW52b2tlKHRhcmdldFpvbmU6IFpvbmUsIGNhbGxiYWNrOiBGdW5jdGlvbiwgYXBwbHlUaGlzOiBhbnksIGFwcGx5QXJnczogYW55W10sIHNvdXJjZTogc3RyaW5nKTpcbiAgICAgIGFueTtcbiAgaGFuZGxlRXJyb3IodGFyZ2V0Wm9uZTogWm9uZSwgZXJyb3I6IGFueSk6IGJvb2xlYW47XG4gIHNjaGVkdWxlVGFzayh0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrKTogVGFzaztcbiAgaW52b2tlVGFzayh0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrLCBhcHBseVRoaXM6IGFueSwgYXBwbHlBcmdzOiBhbnkpOiBhbnk7XG4gIGNhbmNlbFRhc2sodGFyZ2V0Wm9uZTogWm9uZSwgdGFzazogVGFzayk6IGFueTtcbiAgaGFzVGFzayh0YXJnZXRab25lOiBab25lLCBpc0VtcHR5OiBIYXNUYXNrU3RhdGUpOiB2b2lkO1xufVxuXG50eXBlIEhhc1Rhc2tTdGF0ZSA9IHtcbiAgbWljcm9UYXNrOiBib29sZWFuOyBtYWNyb1Rhc2s6IGJvb2xlYW47IGV2ZW50VGFzazogYm9vbGVhbjsgY2hhbmdlOiBUYXNrVHlwZTtcbn07XG5cbi8qKlxuICogVGFzayB0eXBlOiBgbWljcm9UYXNrYCwgYG1hY3JvVGFza2AsIGBldmVudFRhc2tgLlxuICovXG50eXBlIFRhc2tUeXBlID0gJ21pY3JvVGFzayd8J21hY3JvVGFzayd8J2V2ZW50VGFzayc7XG5cbi8qKlxuICogVGFzayB0eXBlOiBgbm90U2NoZWR1bGVkYCwgYHNjaGVkdWxpbmdgLCBgc2NoZWR1bGVkYCwgYHJ1bm5pbmdgLCBgY2FuY2VsaW5nYCwgJ3Vua25vd24nLlxuICovXG50eXBlIFRhc2tTdGF0ZSA9ICdub3RTY2hlZHVsZWQnfCdzY2hlZHVsaW5nJ3wnc2NoZWR1bGVkJ3wncnVubmluZyd8J2NhbmNlbGluZyd8J3Vua25vd24nO1xuXG5cbi8qKlxuICovXG5pbnRlcmZhY2UgVGFza0RhdGEge1xuICAvKipcbiAgICogQSBwZXJpb2RpYyBbTWFjcm9UYXNrXSBpcyBzdWNoIHdoaWNoIGdldCBhdXRvbWF0aWNhbGx5IHJlc2NoZWR1bGVkIGFmdGVyIGl0IGlzIGV4ZWN1dGVkLlxuICAgKi9cbiAgaXNQZXJpb2RpYz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERlbGF5IGluIG1pbGxpc2Vjb25kcyB3aGVuIHRoZSBUYXNrIHdpbGwgcnVuLlxuICAgKi9cbiAgZGVsYXk/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGlkZW50aWZpZXIgcmV0dXJuZWQgYnkgdGhlIG5hdGl2ZSBzZXRUaW1lb3V0LlxuICAgKi9cbiAgaGFuZGxlSWQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyB3b3JrIHdoaWNoIGlzIGV4ZWN1dGVkIHdpdGggYSBjbGVhbiBzdGFjay5cbiAqXG4gKiBUYXNrcyBhcmUgdXNlZCBpbiBab25lcyB0byBtYXJrIHdvcmsgd2hpY2ggaXMgcGVyZm9ybWVkIG9uIGNsZWFuIHN0YWNrIGZyYW1lLiBUaGVyZSBhcmUgdGhyZWVcbiAqIGtpbmRzIG9mIHRhc2suIFtNaWNyb1Rhc2tdLCBbTWFjcm9UYXNrXSwgYW5kIFtFdmVudFRhc2tdLlxuICpcbiAqIEEgSlMgVk0gY2FuIGJlIG1vZGVsZWQgYXMgYSBbTWljcm9UYXNrXSBxdWV1ZSwgW01hY3JvVGFza10gcXVldWUsIGFuZCBbRXZlbnRUYXNrXSBzZXQuXG4gKlxuICogLSBbTWljcm9UYXNrXSBxdWV1ZSByZXByZXNlbnRzIGEgc2V0IG9mIHRhc2tzIHdoaWNoIGFyZSBleGVjdXRpbmcgcmlnaHQgYWZ0ZXIgdGhlIGN1cnJlbnQgc3RhY2tcbiAqICAgZnJhbWUgYmVjb21lcyBjbGVhbiBhbmQgYmVmb3JlIGEgVk0geWllbGQuIEFsbCBbTWljcm9UYXNrXXMgZXhlY3V0ZSBpbiBvcmRlciBvZiBpbnNlcnRpb25cbiAqICAgYmVmb3JlIFZNIHlpZWxkIGFuZCB0aGUgbmV4dCBbTWFjcm9UYXNrXSBpcyBleGVjdXRlZC5cbiAqIC0gW01hY3JvVGFza10gcXVldWUgcmVwcmVzZW50cyBhIHNldCBvZiB0YXNrcyB3aGljaCBhcmUgZXhlY3V0ZWQgb25lIGF0IGEgdGltZSBhZnRlciBlYWNoIFZNXG4gKiAgIHlpZWxkLiBUaGUgcXVldWUgaXMgb3JkZXIgYnkgdGltZSwgYW5kIGluc2VydGlvbnMgY2FuIGhhcHBlbiBpbiBhbnkgbG9jYXRpb24uXG4gKiAtIFtFdmVudFRhc2tdIGlzIGEgc2V0IG9mIHRhc2tzIHdoaWNoIGNhbiBhdCBhbnkgdGltZSBiZSBpbnNlcnRlZCB0byB0aGUgZW5kIG9mIHRoZSBbTWFjcm9UYXNrXVxuICogICBxdWV1ZS4gVGhpcyBoYXBwZW5zIHdoZW4gdGhlIGV2ZW50IGZpcmVzLlxuICpcbiAqL1xuaW50ZXJmYWNlIFRhc2sge1xuICAvKipcbiAgICogVGFzayB0eXBlOiBgbWljcm9UYXNrYCwgYG1hY3JvVGFza2AsIGBldmVudFRhc2tgLlxuICAgKi9cbiAgdHlwZTogVGFza1R5cGU7XG5cbiAgLyoqXG4gICAqIFRhc2sgc3RhdGU6IGBub3RTY2hlZHVsZWRgLCBgc2NoZWR1bGluZ2AsIGBzY2hlZHVsZWRgLCBgcnVubmluZ2AsIGBjYW5jZWxpbmdgLCBgdW5rbm93bmAuXG4gICAqL1xuICBzdGF0ZTogVGFza1N0YXRlO1xuXG4gIC8qKlxuICAgKiBEZWJ1ZyBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBBUEkgd2hpY2ggcmVxdWVzdGVkIHRoZSBzY2hlZHVsaW5nIG9mIHRoZSB0YXNrLlxuICAgKi9cbiAgc291cmNlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBGdW5jdGlvbiB0byBiZSB1c2VkIGJ5IHRoZSBWTSBvbiBlbnRlcmluZyB0aGUgW1Rhc2tdLiBUaGlzIGZ1bmN0aW9uIHdpbGwgZGVsZWdhdGUgdG9cbiAgICogW1pvbmUucnVuVGFza10gYW5kIGRlbGVnYXRlIHRvIGBjYWxsYmFja2AuXG4gICAqL1xuICBpbnZva2U6IEZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB3aGljaCBuZWVkcyB0byBiZSBleGVjdXRlZCBieSB0aGUgVGFzayBhZnRlciB0aGUgW1pvbmUuY3VycmVudFRhc2tdIGhhcyBiZWVuIHNldCB0b1xuICAgKiB0aGUgY3VycmVudCB0YXNrLlxuICAgKi9cbiAgY2FsbGJhY2s6IEZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBUYXNrIHNwZWNpZmljIG9wdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHRhc2suIFRoaXMgaXMgcGFzc2VkIHRvIHRoZSBgc2NoZWR1bGVGbmAuXG4gICAqL1xuICBkYXRhOiBUYXNrRGF0YTtcblxuICAvKipcbiAgICogUmVwcmVzZW50cyB0aGUgZGVmYXVsdCB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIGRvbmUgdG8gc2NoZWR1bGUgdGhlIFRhc2sgYnkgdGhlIFZNLlxuICAgKlxuICAgKiBBIHpvbmUgbWF5IGNob3NlIHRvIGludGVyY2VwdCB0aGlzIGZ1bmN0aW9uIGFuZCBwZXJmb3JtIGl0cyBvd24gc2NoZWR1bGluZy5cbiAgICovXG4gIHNjaGVkdWxlRm46ICh0YXNrOiBUYXNrKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRoZSBkZWZhdWx0IHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgZG9uZSB0byB1bi1zY2hlZHVsZSB0aGUgVGFzayBmcm9tIHRoZSBWTS4gTm90IGFsbFxuICAgKiBUYXNrcyBhcmUgY2FuY2VsYWJsZSwgYW5kIHRoZXJlZm9yZSB0aGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAgICpcbiAgICogQSB6b25lIG1heSBjaG9zZSB0byBpbnRlcmNlcHQgdGhpcyBmdW5jdGlvbiBhbmQgcGVyZm9ybSBpdHMgb3duIHNjaGVkdWxpbmcuXG4gICAqL1xuICBjYW5jZWxGbjogKHRhc2s6IFRhc2spID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtab25lfSBUaGUgem9uZSB3aGljaCB3aWxsIGJlIHVzZWQgdG8gaW52b2tlIHRoZSBgY2FsbGJhY2tgLiBUaGUgWm9uZSBpcyBjYXB0dXJlZFxuICAgKiBhdCB0aGUgdGltZSBvZiBUYXNrIGNyZWF0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgem9uZTogWm9uZTtcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHRpbWVzIHRoZSB0YXNrIGhhcyBiZWVuIGV4ZWN1dGVkLCBvciAtMSBpZiBjYW5jZWxlZC5cbiAgICovXG4gIHJ1bkNvdW50OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENhbmNlbCB0aGUgc2NoZWR1bGluZyByZXF1ZXN0LiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGZyb20gYFpvbmVTcGVjLm9uU2NoZWR1bGVUYXNrYCB0b1xuICAgKiBjYW5jZWwgdGhlIGN1cnJlbnQgc2NoZWR1bGluZyBpbnRlcmNlcHRpb24uIE9uY2UgY2FuY2VsZWQgdGhlIHRhc2sgY2FuIGJlIGRpc2NhcmRlZCBvclxuICAgKiByZXNjaGVkdWxlZCB1c2luZyBgWm9uZS5zY2hlZHVsZVRhc2tgIG9uIGEgZGlmZmVyZW50IHpvbmUuXG4gICAqL1xuICBjYW5jZWxTY2hlZHVsZVJlcXVlc3QoKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIE1pY3JvVGFzayBleHRlbmRzIFRhc2sge1xuICB0eXBlOiAnbWljcm9UYXNrJztcbn1cblxuaW50ZXJmYWNlIE1hY3JvVGFzayBleHRlbmRzIFRhc2sge1xuICB0eXBlOiAnbWFjcm9UYXNrJztcbn1cblxuaW50ZXJmYWNlIEV2ZW50VGFzayBleHRlbmRzIFRhc2sge1xuICB0eXBlOiAnZXZlbnRUYXNrJztcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xudHlwZSBBbWJpZW50Wm9uZSA9IFpvbmU7XG4vKiogQGludGVybmFsICovXG50eXBlIEFtYmllbnRab25lRGVsZWdhdGUgPSBab25lRGVsZWdhdGU7XG5cbmNvbnN0IFpvbmU6IFpvbmVUeXBlID0gKGZ1bmN0aW9uKGdsb2JhbDogYW55KSB7XG4gIGNvbnN0IEZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblxuICBjb25zdCBwZXJmb3JtYW5jZToge21hcmsobmFtZTogc3RyaW5nKTogdm9pZDsgbWVhc3VyZShuYW1lOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpOiB2b2lkO30gPVxuICAgICAgZ2xvYmFsWydwZXJmb3JtYW5jZSddO1xuICBmdW5jdGlvbiBtYXJrKG5hbWU6IHN0cmluZykge1xuICAgIHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlWydtYXJrJ10gJiYgcGVyZm9ybWFuY2VbJ21hcmsnXShuYW1lKTtcbiAgfVxuICBmdW5jdGlvbiBwZXJmb3JtYW5jZU1lYXN1cmUobmFtZTogc3RyaW5nLCBsYWJlbDogc3RyaW5nKSB7XG4gICAgcGVyZm9ybWFuY2UgJiYgcGVyZm9ybWFuY2VbJ21lYXN1cmUnXSAmJiBwZXJmb3JtYW5jZVsnbWVhc3VyZSddKG5hbWUsIGxhYmVsKTtcbiAgfVxuICBtYXJrKCdab25lJyk7XG4gIGlmIChnbG9iYWxbJ1pvbmUnXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignWm9uZSBhbHJlYWR5IGxvYWRlZC4nKTtcbiAgfVxuXG4gIGNsYXNzIFpvbmUgaW1wbGVtZW50cyBBbWJpZW50Wm9uZSB7XG4gICAgc3RhdGljIF9fc3ltYm9sX186IChuYW1lOiBzdHJpbmcpID0+IHN0cmluZyA9IF9fc3ltYm9sX187XG5cbiAgICBzdGF0aWMgYXNzZXJ0Wm9uZVBhdGNoZWQoKSB7XG4gICAgICBpZiAoZ2xvYmFsWydQcm9taXNlJ10gIT09IHBhdGNoZXNbJ1pvbmVBd2FyZVByb21pc2UnXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgJyArXG4gICAgICAgICAgICAnaGFzIGJlZW4gb3ZlcndyaXR0ZW4uXFxuJyArXG4gICAgICAgICAgICAnTW9zdCBsaWtlbHkgY2F1c2UgaXMgdGhhdCBhIFByb21pc2UgcG9seWZpbGwgaGFzIGJlZW4gbG9hZGVkICcgK1xuICAgICAgICAgICAgJ2FmdGVyIFpvbmUuanMgKFBvbHlmaWxsaW5nIFByb21pc2UgYXBpIGlzIG5vdCBuZWNlc3Nhcnkgd2hlbiB6b25lLmpzIGlzIGxvYWRlZC4gJyArXG4gICAgICAgICAgICAnSWYgeW91IG11c3QgbG9hZCBvbmUsIGRvIHNvIGJlZm9yZSBsb2FkaW5nIHpvbmUuanMuKScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgcm9vdCgpOiBBbWJpZW50Wm9uZSB7XG4gICAgICBsZXQgem9uZSA9IFpvbmUuY3VycmVudDtcbiAgICAgIHdoaWxlICh6b25lLnBhcmVudCkge1xuICAgICAgICB6b25lID0gem9uZS5wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gem9uZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGN1cnJlbnQoKTogQW1iaWVudFpvbmUge1xuICAgICAgcmV0dXJuIF9jdXJyZW50Wm9uZUZyYW1lLnpvbmU7XG4gICAgfTtcbiAgICBzdGF0aWMgZ2V0IGN1cnJlbnRUYXNrKCk6IFRhc2sge1xuICAgICAgcmV0dXJuIF9jdXJyZW50VGFzaztcbiAgICB9O1xuXG4gICAgc3RhdGljIF9fbG9hZF9wYXRjaChuYW1lOiBzdHJpbmcsIGZuOiBfUGF0Y2hGbik6IHZvaWQge1xuICAgICAgaWYgKHBhdGNoZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FscmVhZHkgbG9hZGVkIHBhdGNoOiAnICsgbmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFnbG9iYWxbJ19fWm9uZV9kaXNhYmxlXycgKyBuYW1lXSkge1xuICAgICAgICBjb25zdCBwZXJmTmFtZSA9ICdab25lOicgKyBuYW1lO1xuICAgICAgICBtYXJrKHBlcmZOYW1lKTtcbiAgICAgICAgcGF0Y2hlc1tuYW1lXSA9IGZuKGdsb2JhbCwgWm9uZSwgX2FwaSk7XG4gICAgICAgIHBlcmZvcm1hbmNlTWVhc3VyZShwZXJmTmFtZSwgcGVyZk5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcGFyZW50KCk6IEFtYmllbnRab25lIHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQ7XG4gICAgfTtcbiAgICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH07XG5cblxuICAgIHByaXZhdGUgX3BhcmVudDogWm9uZTtcbiAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcHJvcGVydGllczoge1trZXk6IHN0cmluZ106IGFueX0gPSBudWxsO1xuICAgIHByaXZhdGUgX3pvbmVEZWxlZ2F0ZTogWm9uZURlbGVnYXRlO1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBab25lLCB6b25lU3BlYzogWm9uZVNwZWMpIHtcbiAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgIHRoaXMuX25hbWUgPSB6b25lU3BlYyA/IHpvbmVTcGVjLm5hbWUgfHwgJ3VubmFtZWQnIDogJzxyb290Pic7XG4gICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gem9uZVNwZWMgJiYgem9uZVNwZWMucHJvcGVydGllcyB8fCB7fTtcbiAgICAgIHRoaXMuX3pvbmVEZWxlZ2F0ZSA9XG4gICAgICAgICAgbmV3IFpvbmVEZWxlZ2F0ZSh0aGlzLCB0aGlzLl9wYXJlbnQgJiYgdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsIHpvbmVTcGVjKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0KGtleTogc3RyaW5nKTogYW55IHtcbiAgICAgIGNvbnN0IHpvbmU6IFpvbmUgPSB0aGlzLmdldFpvbmVXaXRoKGtleSkgYXMgWm9uZTtcbiAgICAgIGlmICh6b25lKSByZXR1cm4gem9uZS5fcHJvcGVydGllc1trZXldO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRab25lV2l0aChrZXk6IHN0cmluZyk6IEFtYmllbnRab25lIHtcbiAgICAgIGxldCBjdXJyZW50OiBab25lID0gdGhpcztcbiAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgIGlmIChjdXJyZW50Ll9wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGZvcmsoem9uZVNwZWM6IFpvbmVTcGVjKTogQW1iaWVudFpvbmUge1xuICAgICAgaWYgKCF6b25lU3BlYykgdGhyb3cgbmV3IEVycm9yKCdab25lU3BlYyByZXF1aXJlZCEnKTtcbiAgICAgIHJldHVybiB0aGlzLl96b25lRGVsZWdhdGUuZm9yayh0aGlzLCB6b25lU3BlYyk7XG4gICAgfVxuXG4gICAgcHVibGljIHdyYXA8VCBleHRlbmRzIEZ1bmN0aW9uPihjYWxsYmFjazogVCwgc291cmNlOiBzdHJpbmcpOiBUIHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IEZVTkNUSU9OKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogJyArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IF9jYWxsYmFjayA9IHRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcywgY2FsbGJhY2ssIHNvdXJjZSk7XG4gICAgICBjb25zdCB6b25lOiBab25lID0gdGhpcztcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHpvbmUucnVuR3VhcmRlZChfY2FsbGJhY2ssIHRoaXMsIDxhbnk+YXJndW1lbnRzLCBzb3VyY2UpO1xuICAgICAgfSBhcyBhbnkgYXMgVDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcnVuKGNhbGxiYWNrOiBGdW5jdGlvbiwgYXBwbHlUaGlzPzogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSwgc291cmNlPzogc3RyaW5nKTogYW55O1xuICAgIHB1YmxpYyBydW48VD4oXG4gICAgICAgIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IFQsIGFwcGx5VGhpczogYW55ID0gdW5kZWZpbmVkLCBhcHBseUFyZ3M6IGFueVtdID0gbnVsbCxcbiAgICAgICAgc291cmNlOiBzdHJpbmcgPSBudWxsKTogVCB7XG4gICAgICBfY3VycmVudFpvbmVGcmFtZSA9IHtwYXJlbnQ6IF9jdXJyZW50Wm9uZUZyYW1lLCB6b25lOiB0aGlzfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9jdXJyZW50Wm9uZUZyYW1lID0gX2N1cnJlbnRab25lRnJhbWUucGFyZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBydW5HdWFyZGVkKGNhbGxiYWNrOiBGdW5jdGlvbiwgYXBwbHlUaGlzPzogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSwgc291cmNlPzogc3RyaW5nKTogYW55O1xuICAgIHB1YmxpYyBydW5HdWFyZGVkPFQ+KFxuICAgICAgICBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiBULCBhcHBseVRoaXM6IGFueSA9IG51bGwsIGFwcGx5QXJnczogYW55W10gPSBudWxsLFxuICAgICAgICBzb3VyY2U6IHN0cmluZyA9IG51bGwpIHtcbiAgICAgIF9jdXJyZW50Wm9uZUZyYW1lID0ge3BhcmVudDogX2N1cnJlbnRab25lRnJhbWUsIHpvbmU6IHRoaXN9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLCBlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSBfY3VycmVudFpvbmVGcmFtZS5wYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBydW5UYXNrKHRhc2s6IFRhc2ssIGFwcGx5VGhpcz86IGFueSwgYXBwbHlBcmdzPzogYW55KTogYW55IHtcbiAgICAgIGlmICh0YXNrLnpvbmUgIT0gdGhpcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQSB0YXNrIGNhbiBvbmx5IGJlIHJ1biBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAnICtcbiAgICAgICAgICAgICh0YXNrLnpvbmUgfHwgTk9fWk9ORSkubmFtZSArICc7IEV4ZWN1dGlvbjogJyArIHRoaXMubmFtZSArICcpJyk7XG4gICAgICB9XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2lzc3Vlcy83NzgsIHNvbWV0aW1lcyBldmVudFRhc2tcbiAgICAgIC8vIHdpbGwgcnVuIGluIG5vdFNjaGVkdWxlZChjYW5jZWxlZCkgc3RhdGUsIHdlIHNob3VsZCBub3QgdHJ5IHRvXG4gICAgICAvLyBydW4gc3VjaCBraW5kIG9mIHRhc2sgYnV0IGp1c3QgcmV0dXJuXG5cbiAgICAgIC8vIHdlIGhhdmUgdG8gZGVmaW5lIGFuIHZhcmlhYmxlIGhlcmUsIGlmIG5vdFxuICAgICAgLy8gdHlwZXNjcmlwdCBjb21waWxlciB3aWxsIGNvbXBsYWluIGJlbG93XG4gICAgICBjb25zdCBpc05vdFNjaGVkdWxlZCA9IHRhc2suc3RhdGUgPT09IG5vdFNjaGVkdWxlZDtcbiAgICAgIGlmIChpc05vdFNjaGVkdWxlZCAmJiB0YXNrLnR5cGUgPT09IGV2ZW50VGFzaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlRW50cnlHdWFyZCA9IHRhc2suc3RhdGUgIT0gcnVubmluZztcbiAgICAgIHJlRW50cnlHdWFyZCAmJiAodGFzayBhcyBab25lVGFzazxhbnk+KS5fdHJhbnNpdGlvblRvKHJ1bm5pbmcsIHNjaGVkdWxlZCk7XG4gICAgICB0YXNrLnJ1bkNvdW50Kys7XG4gICAgICBjb25zdCBwcmV2aW91c1Rhc2sgPSBfY3VycmVudFRhc2s7XG4gICAgICBfY3VycmVudFRhc2sgPSB0YXNrO1xuICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSB7cGFyZW50OiBfY3VycmVudFpvbmVGcmFtZSwgem9uZTogdGhpc307XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodGFzay50eXBlID09IG1hY3JvVGFzayAmJiB0YXNrLmRhdGEgJiYgIXRhc2suZGF0YS5pc1BlcmlvZGljKSB7XG4gICAgICAgICAgdGFzay5jYW5jZWxGbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZVRhc2sodGhpcywgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmICh0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcywgZXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIGlmIHRoZSB0YXNrJ3Mgc3RhdGUgaXMgbm90U2NoZWR1bGVkIG9yIHVua25vd24sIHRoZW4gaXQgaGFzIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICAgICAgLy8gd2Ugc2hvdWxkIG5vdCByZXNldCB0aGUgc3RhdGUgdG8gc2NoZWR1bGVkXG4gICAgICAgIGlmICh0YXNrLnN0YXRlICE9PSBub3RTY2hlZHVsZWQgJiYgdGFzay5zdGF0ZSAhPT0gdW5rbm93bikge1xuICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT0gZXZlbnRUYXNrIHx8ICh0YXNrLmRhdGEgJiYgdGFzay5kYXRhLmlzUGVyaW9kaWMpKSB7XG4gICAgICAgICAgICByZUVudHJ5R3VhcmQgJiYgKHRhc2sgYXMgWm9uZVRhc2s8YW55PikuX3RyYW5zaXRpb25UbyhzY2hlZHVsZWQsIHJ1bm5pbmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXNrLnJ1bkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRhc2tDb3VudCh0YXNrIGFzIFpvbmVUYXNrPGFueT4sIC0xKTtcbiAgICAgICAgICAgIHJlRW50cnlHdWFyZCAmJlxuICAgICAgICAgICAgICAgICh0YXNrIGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8obm90U2NoZWR1bGVkLCBydW5uaW5nLCBub3RTY2hlZHVsZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfY3VycmVudFpvbmVGcmFtZSA9IF9jdXJyZW50Wm9uZUZyYW1lLnBhcmVudDtcbiAgICAgICAgX2N1cnJlbnRUYXNrID0gcHJldmlvdXNUYXNrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNjaGVkdWxlVGFzazxUIGV4dGVuZHMgVGFzaz4odGFzazogVCk6IFQge1xuICAgICAgaWYgKHRhc2suem9uZSAmJiB0YXNrLnpvbmUgIT09IHRoaXMpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHRhc2sgd2FzIHJlc2NoZWR1bGVkLCB0aGUgbmV3Wm9uZVxuICAgICAgICAvLyBzaG91bGQgbm90IGJlIHRoZSBjaGlsZHJlbiBvZiB0aGUgb3JpZ2luYWwgem9uZVxuICAgICAgICBsZXQgbmV3Wm9uZTogYW55ID0gdGhpcztcbiAgICAgICAgd2hpbGUgKG5ld1pvbmUpIHtcbiAgICAgICAgICBpZiAobmV3Wm9uZSA9PT0gdGFzay56b25lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgY2FuIG5vdCByZXNjaGVkdWxlIHRhc2sgdG8gJHt0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hbWV9IHdoaWNoIGlzIGRlc2NlbmRhbnRzIG9mIHRoZSBvcmlnaW5hbCB6b25lICR7dGFzay56b25lLm5hbWV9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1pvbmUgPSBuZXdab25lLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8oc2NoZWR1bGluZywgbm90U2NoZWR1bGVkKTtcbiAgICAgIGNvbnN0IHpvbmVEZWxlZ2F0ZXM6IFpvbmVEZWxlZ2F0ZVtdID0gW107XG4gICAgICAodGFzayBhcyBhbnkgYXMgWm9uZVRhc2s8YW55PikuX3pvbmVEZWxlZ2F0ZXMgPSB6b25lRGVsZWdhdGVzO1xuICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl96b25lID0gdGhpcztcbiAgICAgIHRyeSB7XG4gICAgICAgIHRhc2sgPSB0aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMsIHRhc2spIGFzIFQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gc2hvdWxkIHNldCB0YXNrJ3Mgc3RhdGUgdG8gdW5rbm93biB3aGVuIHNjaGVkdWxlVGFzayB0aHJvdyBlcnJvclxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBlcnIgbWF5IGZyb20gcmVzY2hlZHVsZSwgc28gdGhlIGZyb21TdGF0ZSBtYXliZSBub3RTY2hlZHVsZWRcbiAgICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8odW5rbm93biwgc2NoZWR1bGluZywgbm90U2NoZWR1bGVkKTtcbiAgICAgICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc2hvdWxkIHdlIGNoZWNrIHRoZSByZXN1bHQgZnJvbSBoYW5kbGVFcnJvcj9cbiAgICAgICAgdGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsIGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIGlmICgodGFzayBhcyBhbnkgYXMgWm9uZVRhc2s8YW55PikuX3pvbmVEZWxlZ2F0ZXMgPT09IHpvbmVEZWxlZ2F0ZXMpIHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBjaGVjayBiZWNhdXNlIGludGVybmFsbHkgdGhlIGRlbGVnYXRlIGNhbiByZXNjaGVkdWxlIHRoZSB0YXNrLlxuICAgICAgICB0aGlzLl91cGRhdGVUYXNrQ291bnQodGFzayBhcyBhbnkgYXMgWm9uZVRhc2s8YW55PiwgMSk7XG4gICAgICB9XG4gICAgICBpZiAoKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLnN0YXRlID09IHNjaGVkdWxpbmcpIHtcbiAgICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8oc2NoZWR1bGVkLCBzY2hlZHVsaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXNrO1xuICAgIH1cblxuICAgIHNjaGVkdWxlTWljcm9UYXNrKFxuICAgICAgICBzb3VyY2U6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCBkYXRhPzogVGFza0RhdGEsXG4gICAgICAgIGN1c3RvbVNjaGVkdWxlPzogKHRhc2s6IFRhc2spID0+IHZvaWQpOiBNaWNyb1Rhc2sge1xuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKFxuICAgICAgICAgIG5ldyBab25lVGFzayhtaWNyb1Rhc2ssIHNvdXJjZSwgY2FsbGJhY2ssIGRhdGEsIGN1c3RvbVNjaGVkdWxlLCBudWxsKSk7XG4gICAgfVxuXG4gICAgc2NoZWR1bGVNYWNyb1Rhc2soXG4gICAgICAgIHNvdXJjZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIGRhdGE6IFRhc2tEYXRhLCBjdXN0b21TY2hlZHVsZTogKHRhc2s6IFRhc2spID0+IHZvaWQsXG4gICAgICAgIGN1c3RvbUNhbmNlbDogKHRhc2s6IFRhc2spID0+IHZvaWQpOiBNYWNyb1Rhc2sge1xuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKFxuICAgICAgICAgIG5ldyBab25lVGFzayhtYWNyb1Rhc2ssIHNvdXJjZSwgY2FsbGJhY2ssIGRhdGEsIGN1c3RvbVNjaGVkdWxlLCBjdXN0b21DYW5jZWwpKTtcbiAgICB9XG5cbiAgICBzY2hlZHVsZUV2ZW50VGFzayhcbiAgICAgICAgc291cmNlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgZGF0YTogVGFza0RhdGEsIGN1c3RvbVNjaGVkdWxlOiAodGFzazogVGFzaykgPT4gdm9pZCxcbiAgICAgICAgY3VzdG9tQ2FuY2VsOiAodGFzazogVGFzaykgPT4gdm9pZCk6IEV2ZW50VGFzayB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2soXG4gICAgICAgICAgbmV3IFpvbmVUYXNrKGV2ZW50VGFzaywgc291cmNlLCBjYWxsYmFjaywgZGF0YSwgY3VzdG9tU2NoZWR1bGUsIGN1c3RvbUNhbmNlbCkpO1xuICAgIH1cblxuICAgIGNhbmNlbFRhc2sodGFzazogVGFzayk6IGFueSB7XG4gICAgICBpZiAodGFzay56b25lICE9IHRoaXMpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdBIHRhc2sgY2FuIG9ubHkgYmUgY2FuY2VsbGVkIGluIHRoZSB6b25lIG9mIGNyZWF0aW9uISAoQ3JlYXRpb246ICcgK1xuICAgICAgICAgICAgKHRhc2suem9uZSB8fCBOT19aT05FKS5uYW1lICsgJzsgRXhlY3V0aW9uOiAnICsgdGhpcy5uYW1lICsgJyknKTtcbiAgICAgICh0YXNrIGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8oY2FuY2VsaW5nLCBzY2hlZHVsZWQsIHJ1bm5pbmcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5fem9uZURlbGVnYXRlLmNhbmNlbFRhc2sodGhpcywgdGFzayk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWYgZXJyb3Igb2NjdXJzIHdoZW4gY2FuY2VsVGFzaywgdHJhbnNpdCB0aGUgc3RhdGUgdG8gdW5rbm93blxuICAgICAgICAodGFzayBhcyBab25lVGFzazxhbnk+KS5fdHJhbnNpdGlvblRvKHVua25vd24sIGNhbmNlbGluZyk7XG4gICAgICAgIHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLCBlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGVUYXNrQ291bnQodGFzayBhcyBab25lVGFzazxhbnk+LCAtMSk7XG4gICAgICAodGFzayBhcyBab25lVGFzazxhbnk+KS5fdHJhbnNpdGlvblRvKG5vdFNjaGVkdWxlZCwgY2FuY2VsaW5nKTtcbiAgICAgIHRhc2sucnVuQ291bnQgPSAwO1xuICAgICAgcmV0dXJuIHRhc2s7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlVGFza0NvdW50KHRhc2s6IFpvbmVUYXNrPGFueT4sIGNvdW50OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IHpvbmVEZWxlZ2F0ZXMgPSB0YXNrLl96b25lRGVsZWdhdGVzO1xuICAgICAgaWYgKGNvdW50ID09IC0xKSB7XG4gICAgICAgIHRhc2suX3pvbmVEZWxlZ2F0ZXMgPSBudWxsO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6b25lRGVsZWdhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHpvbmVEZWxlZ2F0ZXNbaV0uX3VwZGF0ZVRhc2tDb3VudCh0YXNrLnR5cGUsIGNvdW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBERUxFR0FURV9aUzogWm9uZVNwZWMgPSB7XG4gICAgbmFtZTogJycsXG4gICAgb25IYXNUYXNrOiAoZGVsZWdhdGU6IFpvbmVEZWxlZ2F0ZSwgXzogWm9uZSwgdGFyZ2V0OiBab25lLCBoYXNUYXNrU3RhdGU6IEhhc1Rhc2tTdGF0ZSk6IHZvaWQgPT5cbiAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5oYXNUYXNrKHRhcmdldCwgaGFzVGFza1N0YXRlKSxcbiAgICBvblNjaGVkdWxlVGFzazogKGRlbGVnYXRlOiBab25lRGVsZWdhdGUsIF86IFpvbmUsIHRhcmdldDogWm9uZSwgdGFzazogVGFzayk6IFRhc2sgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLnNjaGVkdWxlVGFzayh0YXJnZXQsIHRhc2spLFxuICAgIG9uSW52b2tlVGFzazogKGRlbGVnYXRlOiBab25lRGVsZWdhdGUsIF86IFpvbmUsIHRhcmdldDogWm9uZSwgdGFzazogVGFzaywgYXBwbHlUaGlzOiBhbnksXG4gICAgICAgICAgICAgICAgICAgYXBwbHlBcmdzOiBhbnkpOiBhbnkgPT4gZGVsZWdhdGUuaW52b2tlVGFzayh0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSxcbiAgICBvbkNhbmNlbFRhc2s6IChkZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCBfOiBab25lLCB0YXJnZXQ6IFpvbmUsIHRhc2s6IFRhc2spOiBhbnkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5jYW5jZWxUYXNrKHRhcmdldCwgdGFzaylcbiAgfTtcblxuICBjbGFzcyBab25lRGVsZWdhdGUgaW1wbGVtZW50cyBBbWJpZW50Wm9uZURlbGVnYXRlIHtcbiAgICBwdWJsaWMgem9uZTogWm9uZTtcblxuICAgIHByaXZhdGUgX3Rhc2tDb3VudHM6IHttaWNyb1Rhc2s6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9UYXNrOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFzazogbnVtYmVyfSA9IHsnbWljcm9UYXNrJzogMCwgJ21hY3JvVGFzayc6IDAsICdldmVudFRhc2snOiAwfTtcblxuICAgIHByaXZhdGUgX3BhcmVudERlbGVnYXRlOiBab25lRGVsZWdhdGU7XG5cbiAgICBwcml2YXRlIF9mb3JrRGxndDogWm9uZURlbGVnYXRlO1xuICAgIHByaXZhdGUgX2ZvcmtaUzogWm9uZVNwZWM7XG4gICAgcHJpdmF0ZSBfZm9ya0N1cnJab25lOiBab25lO1xuXG4gICAgcHJpdmF0ZSBfaW50ZXJjZXB0RGxndDogWm9uZURlbGVnYXRlO1xuICAgIHByaXZhdGUgX2ludGVyY2VwdFpTOiBab25lU3BlYztcbiAgICBwcml2YXRlIF9pbnRlcmNlcHRDdXJyWm9uZTogWm9uZTtcblxuICAgIHByaXZhdGUgX2ludm9rZURsZ3Q6IFpvbmVEZWxlZ2F0ZTtcbiAgICBwcml2YXRlIF9pbnZva2VaUzogWm9uZVNwZWM7XG4gICAgcHJpdmF0ZSBfaW52b2tlQ3VyclpvbmU6IFpvbmU7XG5cbiAgICBwcml2YXRlIF9oYW5kbGVFcnJvckRsZ3Q6IFpvbmVEZWxlZ2F0ZTtcbiAgICBwcml2YXRlIF9oYW5kbGVFcnJvclpTOiBab25lU3BlYztcbiAgICBwcml2YXRlIF9oYW5kbGVFcnJvckN1cnJab25lOiBab25lO1xuXG4gICAgcHJpdmF0ZSBfc2NoZWR1bGVUYXNrRGxndDogWm9uZURlbGVnYXRlO1xuICAgIHByaXZhdGUgX3NjaGVkdWxlVGFza1pTOiBab25lU3BlYztcbiAgICBwcml2YXRlIF9zY2hlZHVsZVRhc2tDdXJyWm9uZTogWm9uZTtcblxuICAgIHByaXZhdGUgX2ludm9rZVRhc2tEbGd0OiBab25lRGVsZWdhdGU7XG4gICAgcHJpdmF0ZSBfaW52b2tlVGFza1pTOiBab25lU3BlYztcbiAgICBwcml2YXRlIF9pbnZva2VUYXNrQ3VyclpvbmU6IFpvbmU7XG5cbiAgICBwcml2YXRlIF9jYW5jZWxUYXNrRGxndDogWm9uZURlbGVnYXRlO1xuICAgIHByaXZhdGUgX2NhbmNlbFRhc2taUzogWm9uZVNwZWM7XG4gICAgcHJpdmF0ZSBfY2FuY2VsVGFza0N1cnJab25lOiBab25lO1xuXG4gICAgcHJpdmF0ZSBfaGFzVGFza0RsZ3Q6IFpvbmVEZWxlZ2F0ZTtcbiAgICBwcml2YXRlIF9oYXNUYXNrRGxndE93bmVyOiBab25lRGVsZWdhdGU7XG4gICAgcHJpdmF0ZSBfaGFzVGFza1pTOiBab25lU3BlYztcbiAgICBwcml2YXRlIF9oYXNUYXNrQ3VyclpvbmU6IFpvbmU7XG5cbiAgICBjb25zdHJ1Y3Rvcih6b25lOiBab25lLCBwYXJlbnREZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCB6b25lU3BlYzogWm9uZVNwZWMpIHtcbiAgICAgIHRoaXMuem9uZSA9IHpvbmU7XG4gICAgICB0aGlzLl9wYXJlbnREZWxlZ2F0ZSA9IHBhcmVudERlbGVnYXRlO1xuXG4gICAgICB0aGlzLl9mb3JrWlMgPSB6b25lU3BlYyAmJiAoem9uZVNwZWMgJiYgem9uZVNwZWMub25Gb3JrID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZS5fZm9ya1pTKTtcbiAgICAgIHRoaXMuX2ZvcmtEbGd0ID0gem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uRm9yayA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2ZvcmtEbGd0KTtcbiAgICAgIHRoaXMuX2ZvcmtDdXJyWm9uZSA9IHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkZvcmsgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZS56b25lKTtcblxuICAgICAgdGhpcy5faW50ZXJjZXB0WlMgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUuX2ludGVyY2VwdFpTKTtcbiAgICAgIHRoaXMuX2ludGVyY2VwdERsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2ludGVyY2VwdERsZ3QpO1xuICAgICAgdGhpcy5faW50ZXJjZXB0Q3VyclpvbmUgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlLnpvbmUpO1xuXG4gICAgICB0aGlzLl9pbnZva2VaUyA9IHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUuX2ludm9rZVpTKTtcbiAgICAgIHRoaXMuX2ludm9rZURsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2ludm9rZURsZ3QpO1xuICAgICAgdGhpcy5faW52b2tlQ3VyclpvbmUgPSB6b25lU3BlYyAmJiAoem9uZVNwZWMub25JbnZva2UgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZS56b25lKTtcblxuICAgICAgdGhpcy5faGFuZGxlRXJyb3JaUyA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSGFuZGxlRXJyb3IgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlLl9oYW5kbGVFcnJvclpTKTtcbiAgICAgIHRoaXMuX2hhbmRsZUVycm9yRGxndCA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSGFuZGxlRXJyb3IgPyBwYXJlbnREZWxlZ2F0ZSA6IHBhcmVudERlbGVnYXRlLl9oYW5kbGVFcnJvckRsZ3QpO1xuICAgICAgdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSGFuZGxlRXJyb3IgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZS56b25lKTtcblxuICAgICAgdGhpcy5fc2NoZWR1bGVUYXNrWlMgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vblNjaGVkdWxlVGFzayA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUuX3NjaGVkdWxlVGFza1pTKTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlVGFza0RsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vblNjaGVkdWxlVGFzayA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX3NjaGVkdWxlVGFza0RsZ3QpO1xuICAgICAgdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmUgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vblNjaGVkdWxlVGFzayA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlLnpvbmUpO1xuXG4gICAgICB0aGlzLl9pbnZva2VUYXNrWlMgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZVRhc2sgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlLl9pbnZva2VUYXNrWlMpO1xuICAgICAgdGhpcy5faW52b2tlVGFza0RsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZVRhc2sgPyBwYXJlbnREZWxlZ2F0ZSA6IHBhcmVudERlbGVnYXRlLl9pbnZva2VUYXNrRGxndCk7XG4gICAgICB0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZVRhc2sgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZS56b25lKTtcblxuICAgICAgdGhpcy5fY2FuY2VsVGFza1pTID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25DYW5jZWxUYXNrID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZS5fY2FuY2VsVGFza1pTKTtcbiAgICAgIHRoaXMuX2NhbmNlbFRhc2tEbGd0ID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25DYW5jZWxUYXNrID8gcGFyZW50RGVsZWdhdGUgOiBwYXJlbnREZWxlZ2F0ZS5fY2FuY2VsVGFza0RsZ3QpO1xuICAgICAgdGhpcy5fY2FuY2VsVGFza0N1cnJab25lID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25DYW5jZWxUYXNrID8gdGhpcy56b25lIDogcGFyZW50RGVsZWdhdGUuem9uZSk7XG5cbiAgICAgIHRoaXMuX2hhc1Rhc2taUyA9IG51bGw7XG4gICAgICB0aGlzLl9oYXNUYXNrRGxndCA9IG51bGw7XG4gICAgICB0aGlzLl9oYXNUYXNrRGxndE93bmVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2hhc1Rhc2tDdXJyWm9uZSA9IG51bGw7XG5cbiAgICAgIGNvbnN0IHpvbmVTcGVjSGFzVGFzayA9IHpvbmVTcGVjICYmIHpvbmVTcGVjLm9uSGFzVGFzaztcbiAgICAgIGNvbnN0IHBhcmVudEhhc1Rhc2sgPSBwYXJlbnREZWxlZ2F0ZSAmJiBwYXJlbnREZWxlZ2F0ZS5faGFzVGFza1pTO1xuICAgICAgaWYgKHpvbmVTcGVjSGFzVGFzayB8fCBwYXJlbnRIYXNUYXNrKSB7XG4gICAgICAgIC8vIElmIHdlIG5lZWQgdG8gcmVwb3J0IGhhc1Rhc2ssIHRoYW4gdGhpcyBaUyBuZWVkcyB0byBkbyByZWYgY291bnRpbmcgb24gdGFza3MuIEluIHN1Y2hcbiAgICAgICAgLy8gYSBjYXNlIGFsbCB0YXNrIHJlbGF0ZWQgaW50ZXJjZXB0b3JzIG11c3QgZ28gdGhyb3VnaCB0aGlzIFpELiBXZSBjYW4ndCBzaG9ydCBjaXJjdWl0IGl0LlxuICAgICAgICB0aGlzLl9oYXNUYXNrWlMgPSB6b25lU3BlY0hhc1Rhc2sgPyB6b25lU3BlYyA6IERFTEVHQVRFX1pTO1xuICAgICAgICB0aGlzLl9oYXNUYXNrRGxndCA9IHBhcmVudERlbGVnYXRlO1xuICAgICAgICB0aGlzLl9oYXNUYXNrRGxndE93bmVyID0gdGhpcztcbiAgICAgICAgdGhpcy5faGFzVGFza0N1cnJab25lID0gem9uZTtcbiAgICAgICAgaWYgKCF6b25lU3BlYy5vblNjaGVkdWxlVGFzaykge1xuICAgICAgICAgIHRoaXMuX3NjaGVkdWxlVGFza1pTID0gREVMRUdBVEVfWlM7XG4gICAgICAgICAgdGhpcy5fc2NoZWR1bGVUYXNrRGxndCA9IHBhcmVudERlbGVnYXRlO1xuICAgICAgICAgIHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lID0gdGhpcy56b25lO1xuICAgICAgICB9XG4gICAgICAgIGlmICghem9uZVNwZWMub25JbnZva2VUYXNrKSB7XG4gICAgICAgICAgdGhpcy5faW52b2tlVGFza1pTID0gREVMRUdBVEVfWlM7XG4gICAgICAgICAgdGhpcy5faW52b2tlVGFza0RsZ3QgPSBwYXJlbnREZWxlZ2F0ZTtcbiAgICAgICAgICB0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUgPSB0aGlzLnpvbmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF6b25lU3BlYy5vbkNhbmNlbFRhc2spIHtcbiAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrWlMgPSBERUxFR0FURV9aUztcbiAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrRGxndCA9IHBhcmVudERlbGVnYXRlO1xuICAgICAgICAgIHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZSA9IHRoaXMuem9uZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvcmsodGFyZ2V0Wm9uZTogWm9uZSwgem9uZVNwZWM6IFpvbmVTcGVjKTogQW1iaWVudFpvbmUge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZvcmtaUyA/IHRoaXMuX2ZvcmtaUy5vbkZvcmsodGhpcy5fZm9ya0RsZ3QsIHRoaXMuem9uZSwgdGFyZ2V0Wm9uZSwgem9uZVNwZWMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgWm9uZSh0YXJnZXRab25lLCB6b25lU3BlYyk7XG4gICAgfVxuXG4gICAgaW50ZXJjZXB0KHRhcmdldFpvbmU6IFpvbmUsIGNhbGxiYWNrOiBGdW5jdGlvbiwgc291cmNlOiBzdHJpbmcpOiBGdW5jdGlvbiB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJjZXB0WlMgP1xuICAgICAgICAgIHRoaXMuX2ludGVyY2VwdFpTLm9uSW50ZXJjZXB0KFxuICAgICAgICAgICAgICB0aGlzLl9pbnRlcmNlcHREbGd0LCB0aGlzLl9pbnRlcmNlcHRDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgY2FsbGJhY2ssIHNvdXJjZSkgOlxuICAgICAgICAgIGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGludm9rZSh0YXJnZXRab25lOiBab25lLCBjYWxsYmFjazogRnVuY3Rpb24sIGFwcGx5VGhpczogYW55LCBhcHBseUFyZ3M6IGFueVtdLCBzb3VyY2U6IHN0cmluZyk6XG4gICAgICAgIGFueSB7XG4gICAgICByZXR1cm4gdGhpcy5faW52b2tlWlMgP1xuICAgICAgICAgIHRoaXMuX2ludm9rZVpTLm9uSW52b2tlKFxuICAgICAgICAgICAgICB0aGlzLl9pbnZva2VEbGd0LCB0aGlzLl9pbnZva2VDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLFxuICAgICAgICAgICAgICBzb3VyY2UpIDpcbiAgICAgICAgICBjYWxsYmFjay5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXJyb3IodGFyZ2V0Wm9uZTogWm9uZSwgZXJyb3I6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUVycm9yWlMgP1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yWlMub25IYW5kbGVFcnJvcihcbiAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JEbGd0LCB0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lLCB0YXJnZXRab25lLCBlcnJvcikgOlxuICAgICAgICAgIHRydWU7XG4gICAgfVxuXG4gICAgc2NoZWR1bGVUYXNrKHRhcmdldFpvbmU6IFpvbmUsIHRhc2s6IFRhc2spOiBUYXNrIHtcbiAgICAgIGxldCByZXR1cm5UYXNrOiBab25lVGFzazxhbnk+ID0gdGFzayBhcyBab25lVGFzazxhbnk+O1xuICAgICAgaWYgKHRoaXMuX3NjaGVkdWxlVGFza1pTKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNUYXNrWlMpIHtcbiAgICAgICAgICByZXR1cm5UYXNrLl96b25lRGVsZWdhdGVzLnB1c2godGhpcy5faGFzVGFza0RsZ3RPd25lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuVGFzayA9IHRoaXMuX3NjaGVkdWxlVGFza1pTLm9uU2NoZWR1bGVUYXNrKFxuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVUYXNrRGxndCwgdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmUsIHRhcmdldFpvbmUsIHRhc2spIGFzIFpvbmVUYXNrPGFueT47XG4gICAgICAgIGlmICghcmV0dXJuVGFzaykgcmV0dXJuVGFzayA9IHRhc2sgYXMgWm9uZVRhc2s8YW55PjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YXNrLnNjaGVkdWxlRm4pIHtcbiAgICAgICAgICB0YXNrLnNjaGVkdWxlRm4odGFzayk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFzay50eXBlID09IG1pY3JvVGFzaykge1xuICAgICAgICAgIHNjaGVkdWxlTWljcm9UYXNrKDxNaWNyb1Rhc2s+dGFzayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIGlzIG1pc3Npbmcgc2NoZWR1bGVGbi4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldHVyblRhc2s7XG4gICAgfVxuXG4gICAgaW52b2tlVGFzayh0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrLCBhcHBseVRoaXM6IGFueSwgYXBwbHlBcmdzOiBhbnkpOiBhbnkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZVRhc2taUyA/XG4gICAgICAgICAgdGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayhcbiAgICAgICAgICAgICAgdGhpcy5faW52b2tlVGFza0RsZ3QsIHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgdGFzaywgYXBwbHlUaGlzLFxuICAgICAgICAgICAgICBhcHBseUFyZ3MpIDpcbiAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG5cbiAgICBjYW5jZWxUYXNrKHRhcmdldFpvbmU6IFpvbmUsIHRhc2s6IFRhc2spOiBhbnkge1xuICAgICAgbGV0IHZhbHVlOiBhbnk7XG4gICAgICBpZiAodGhpcy5fY2FuY2VsVGFza1pTKSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5fY2FuY2VsVGFza1pTLm9uQ2FuY2VsVGFzayhcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbFRhc2tEbGd0LCB0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmUsIHRhcmdldFpvbmUsIHRhc2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0YXNrLmNhbmNlbEZuKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ1Rhc2sgaXMgbm90IGNhbmNlbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHRhc2suY2FuY2VsRm4odGFzayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaGFzVGFzayh0YXJnZXRab25lOiBab25lLCBpc0VtcHR5OiBIYXNUYXNrU3RhdGUpIHtcbiAgICAgIC8vIGhhc1Rhc2sgc2hvdWxkIG5vdCB0aHJvdyBlcnJvciBzbyBvdGhlciBab25lRGVsZWdhdGVcbiAgICAgIC8vIGNhbiBzdGlsbCB0cmlnZ2VyIGhhc1Rhc2sgY2FsbGJhY2tcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNUYXNrWlMgJiZcbiAgICAgICAgICAgIHRoaXMuX2hhc1Rhc2taUy5vbkhhc1Rhc2soXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzVGFza0RsZ3QsIHRoaXMuX2hhc1Rhc2tDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgaXNFbXB0eSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvcih0YXJnZXRab25lLCBlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVUYXNrQ291bnQodHlwZTogVGFza1R5cGUsIGNvdW50OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGNvdW50cyA9IHRoaXMuX3Rhc2tDb3VudHM7XG4gICAgICBjb25zdCBwcmV2ID0gY291bnRzW3R5cGVdO1xuICAgICAgY29uc3QgbmV4dCA9IGNvdW50c1t0eXBlXSA9IHByZXYgKyBjb3VudDtcbiAgICAgIGlmIChuZXh0IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2ID09IDAgfHwgbmV4dCA9PSAwKSB7XG4gICAgICAgIGNvbnN0IGlzRW1wdHk6IEhhc1Rhc2tTdGF0ZSA9IHtcbiAgICAgICAgICBtaWNyb1Rhc2s6IGNvdW50c1snbWljcm9UYXNrJ10gPiAwLFxuICAgICAgICAgIG1hY3JvVGFzazogY291bnRzWydtYWNyb1Rhc2snXSA+IDAsXG4gICAgICAgICAgZXZlbnRUYXNrOiBjb3VudHNbJ2V2ZW50VGFzayddID4gMCxcbiAgICAgICAgICBjaGFuZ2U6IHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYXNUYXNrKHRoaXMuem9uZSwgaXNFbXB0eSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xhc3MgWm9uZVRhc2s8VCBleHRlbmRzIFRhc2tUeXBlPiBpbXBsZW1lbnRzIFRhc2sge1xuICAgIHB1YmxpYyB0eXBlOiBUO1xuICAgIHB1YmxpYyBzb3VyY2U6IHN0cmluZztcbiAgICBwdWJsaWMgaW52b2tlOiBGdW5jdGlvbjtcbiAgICBwdWJsaWMgY2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIHB1YmxpYyBkYXRhOiBUYXNrRGF0YTtcbiAgICBwdWJsaWMgc2NoZWR1bGVGbjogKHRhc2s6IFRhc2spID0+IHZvaWQ7XG4gICAgcHVibGljIGNhbmNlbEZuOiAodGFzazogVGFzaykgPT4gdm9pZDtcbiAgICBfem9uZTogWm9uZSA9IG51bGw7XG4gICAgcHVibGljIHJ1bkNvdW50OiBudW1iZXIgPSAwO1xuICAgIF96b25lRGVsZWdhdGVzOiBab25lRGVsZWdhdGVbXSA9IG51bGw7XG4gICAgX3N0YXRlOiBUYXNrU3RhdGUgPSAnbm90U2NoZWR1bGVkJztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB0eXBlOiBULCBzb3VyY2U6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCBvcHRpb25zOiBUYXNrRGF0YSxcbiAgICAgICAgc2NoZWR1bGVGbjogKHRhc2s6IFRhc2spID0+IHZvaWQsIGNhbmNlbEZuOiAodGFzazogVGFzaykgPT4gdm9pZCkge1xuICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgdGhpcy5kYXRhID0gb3B0aW9ucztcbiAgICAgIHRoaXMuc2NoZWR1bGVGbiA9IHNjaGVkdWxlRm47XG4gICAgICB0aGlzLmNhbmNlbEZuID0gY2FuY2VsRm47XG4gICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIGlmICh0eXBlID09PSBldmVudFRhc2sgJiYgb3B0aW9ucyAmJiAob3B0aW9ucyBhcyBhbnkpLmlzVXNpbmdHbG9iYWxDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmludm9rZSA9IFpvbmVUYXNrLmludm9rZVRhc2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmludm9rZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBab25lVGFzay5pbnZva2VUYXNrLmFwcGx5KGdsb2JhbCwgW3NlbGYsIHRoaXMsIDxhbnk+YXJndW1lbnRzXSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGludm9rZVRhc2sodGFzazogYW55LCB0YXJnZXQ6IGFueSwgYXJnczogYW55KTogYW55IHtcbiAgICAgIGlmICghdGFzaykge1xuICAgICAgICB0YXNrID0gdGhpcztcbiAgICAgIH1cbiAgICAgIF9udW1iZXJPZk5lc3RlZFRhc2tGcmFtZXMrKztcbiAgICAgIHRyeSB7XG4gICAgICAgIHRhc2sucnVuQ291bnQrKztcbiAgICAgICAgcmV0dXJuIHRhc2suem9uZS5ydW5UYXNrKHRhc2ssIHRhcmdldCwgYXJncyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX251bWJlck9mTmVzdGVkVGFza0ZyYW1lcyA9PSAxKSB7XG4gICAgICAgICAgZHJhaW5NaWNyb1Rhc2tRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9udW1iZXJPZk5lc3RlZFRhc2tGcmFtZXMtLTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgem9uZSgpOiBab25lIHtcbiAgICAgIHJldHVybiB0aGlzLl96b25lO1xuICAgIH1cblxuICAgIGdldCBzdGF0ZSgpOiBUYXNrU3RhdGUge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxTY2hlZHVsZVJlcXVlc3QoKSB7XG4gICAgICB0aGlzLl90cmFuc2l0aW9uVG8obm90U2NoZWR1bGVkLCBzY2hlZHVsaW5nKTtcbiAgICB9XG5cbiAgICBfdHJhbnNpdGlvblRvKHRvU3RhdGU6IFRhc2tTdGF0ZSwgZnJvbVN0YXRlMTogVGFza1N0YXRlLCBmcm9tU3RhdGUyPzogVGFza1N0YXRlKSB7XG4gICAgICBpZiAodGhpcy5fc3RhdGUgPT09IGZyb21TdGF0ZTEgfHwgdGhpcy5fc3RhdGUgPT09IGZyb21TdGF0ZTIpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB0b1N0YXRlO1xuICAgICAgICBpZiAodG9TdGF0ZSA9PSBub3RTY2hlZHVsZWQpIHtcbiAgICAgICAgICB0aGlzLl96b25lRGVsZWdhdGVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYCR7dGhpcy50eXBlfSAnJHt0aGlzLnNvdXJjZX0nOiBjYW4gbm90IHRyYW5zaXRpb24gdG8gJyR7dG9TdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0nLCBleHBlY3Rpbmcgc3RhdGUgJyR7ZnJvbVN0YXRlMX0nJHtmcm9tU3RhdGUyID9cbiAgICAgICAgICAgICAgICAnIG9yIFxcJycgKyBmcm9tU3RhdGUyICsgJ1xcJycgOlxuICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgfSwgd2FzICcke3RoaXMuX3N0YXRlfScuYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xuICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0eXBlb2YgdGhpcy5kYXRhLmhhbmRsZUlkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhbmRsZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgdG9KU09OIG1ldGhvZCB0byBwcmV2ZW50IGN5Y2xpYyBlcnJvciB3aGVuXG4gICAgLy8gY2FsbCBKU09OLnN0cmluZ2lmeSh6b25lVGFzaylcbiAgICBwdWJsaWMgdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgem9uZTogdGhpcy56b25lLm5hbWUsXG4gICAgICAgIGludm9rZTogdGhpcy5pbnZva2UsXG4gICAgICAgIHNjaGVkdWxlRm46IHRoaXMuc2NoZWR1bGVGbixcbiAgICAgICAgY2FuY2VsRm46IHRoaXMuY2FuY2VsRm4sXG4gICAgICAgIHJ1bkNvdW50OiB0aGlzLnJ1bkNvdW50LFxuICAgICAgICBjYWxsYmFjazogdGhpcy5jYWxsYmFja1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyAgTUlDUk9UQVNLIFFVRVVFXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgY29uc3Qgc3ltYm9sU2V0VGltZW91dCA9IF9fc3ltYm9sX18oJ3NldFRpbWVvdXQnKTtcbiAgY29uc3Qgc3ltYm9sUHJvbWlzZSA9IF9fc3ltYm9sX18oJ1Byb21pc2UnKTtcbiAgY29uc3Qgc3ltYm9sVGhlbiA9IF9fc3ltYm9sX18oJ3RoZW4nKTtcbiAgbGV0IF9taWNyb1Rhc2tRdWV1ZTogVGFza1tdID0gW107XG4gIGxldCBfaXNEcmFpbmluZ01pY3JvdGFza1F1ZXVlOiBib29sZWFuID0gZmFsc2U7XG4gIGxldCBuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2U6IGFueTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZU1pY3JvVGFzayh0YXNrPzogTWljcm9UYXNrKSB7XG4gICAgLy8gaWYgd2UgYXJlIG5vdCBydW5uaW5nIGluIGFueSB0YXNrLCBhbmQgdGhlcmUgaGFzIG5vdCBiZWVuIGFueXRoaW5nIHNjaGVkdWxlZFxuICAgIC8vIHdlIG11c3QgYm9vdHN0cmFwIHRoZSBpbml0aWFsIHRhc2sgY3JlYXRpb24gYnkgbWFudWFsbHkgc2NoZWR1bGluZyB0aGUgZHJhaW5cbiAgICBpZiAoX251bWJlck9mTmVzdGVkVGFza0ZyYW1lcyA9PT0gMCAmJiBfbWljcm9UYXNrUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBXZSBhcmUgbm90IHJ1bm5pbmcgaW4gVGFzaywgc28gd2UgbmVlZCB0byBraWNrc3RhcnQgdGhlIG1pY3JvdGFzayBxdWV1ZS5cbiAgICAgIGlmICghbmF0aXZlTWljcm9UYXNrUXVldWVQcm9taXNlKSB7XG4gICAgICAgIGlmIChnbG9iYWxbc3ltYm9sUHJvbWlzZV0pIHtcbiAgICAgICAgICBuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2UgPSBnbG9iYWxbc3ltYm9sUHJvbWlzZV0ucmVzb2x2ZSgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5hdGl2ZU1pY3JvVGFza1F1ZXVlUHJvbWlzZSkge1xuICAgICAgICBuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2Vbc3ltYm9sVGhlbl0oZHJhaW5NaWNyb1Rhc2tRdWV1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbG9iYWxbc3ltYm9sU2V0VGltZW91dF0oZHJhaW5NaWNyb1Rhc2tRdWV1ZSwgMCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRhc2sgJiYgX21pY3JvVGFza1F1ZXVlLnB1c2godGFzayk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFpbk1pY3JvVGFza1F1ZXVlKCkge1xuICAgIGlmICghX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZSkge1xuICAgICAgX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZSA9IHRydWU7XG4gICAgICB3aGlsZSAoX21pY3JvVGFza1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IF9taWNyb1Rhc2tRdWV1ZTtcbiAgICAgICAgX21pY3JvVGFza1F1ZXVlID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0YXNrID0gcXVldWVbaV07XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRhc2suem9uZS5ydW5UYXNrKHRhc2ssIG51bGwsIG51bGwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBfYXBpLm9uVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc2hvd0Vycm9yOiBib29sZWFuID0gIShab25lIGFzIGFueSlbX19zeW1ib2xfXygnaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvcicpXTtcbiAgICAgIF9hcGkubWljcm90YXNrRHJhaW5Eb25lKCk7XG4gICAgICBfaXNEcmFpbmluZ01pY3JvdGFza1F1ZXVlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8gIEJPT1RTVFJBUFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuICBjb25zdCBOT19aT05FID0ge25hbWU6ICdOTyBaT05FJ307XG4gIGNvbnN0IG5vdFNjaGVkdWxlZDogJ25vdFNjaGVkdWxlZCcgPSAnbm90U2NoZWR1bGVkJywgc2NoZWR1bGluZzogJ3NjaGVkdWxpbmcnID0gJ3NjaGVkdWxpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZDogJ3NjaGVkdWxlZCcgPSAnc2NoZWR1bGVkJywgcnVubmluZzogJ3J1bm5pbmcnID0gJ3J1bm5pbmcnLFxuICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGluZzogJ2NhbmNlbGluZycgPSAnY2FuY2VsaW5nJywgdW5rbm93bjogJ3Vua25vd24nID0gJ3Vua25vd24nO1xuICBjb25zdCBtaWNyb1Rhc2s6ICdtaWNyb1Rhc2snID0gJ21pY3JvVGFzaycsIG1hY3JvVGFzazogJ21hY3JvVGFzaycgPSAnbWFjcm9UYXNrJyxcbiAgICAgICAgICAgICAgICAgICBldmVudFRhc2s6ICdldmVudFRhc2snID0gJ2V2ZW50VGFzayc7XG5cbiAgY29uc3QgcGF0Y2hlczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcbiAgY29uc3QgX2FwaTogX1pvbmVQcml2YXRlID0ge1xuICAgIHN5bWJvbDogX19zeW1ib2xfXyxcbiAgICBjdXJyZW50Wm9uZUZyYW1lOiAoKSA9PiBfY3VycmVudFpvbmVGcmFtZSxcbiAgICBvblVuaGFuZGxlZEVycm9yOiBub29wLFxuICAgIG1pY3JvdGFza0RyYWluRG9uZTogbm9vcCxcbiAgICBzY2hlZHVsZU1pY3JvVGFzazogc2NoZWR1bGVNaWNyb1Rhc2ssXG4gICAgc2hvd1VuY2F1Z2h0RXJyb3I6ICgpID0+ICEoWm9uZSBhcyBhbnkpW19fc3ltYm9sX18oJ2lnbm9yZUNvbnNvbGVFcnJvclVuY2F1Z2h0RXJyb3InKV0sXG4gICAgcGF0Y2hFdmVudFRhcmdldDogKCkgPT4gW10sXG4gICAgcGF0Y2hPblByb3BlcnRpZXM6IG5vb3AsXG4gICAgcGF0Y2hNZXRob2Q6ICgpID0+IG5vb3AsXG4gIH07XG4gIGxldCBfY3VycmVudFpvbmVGcmFtZTogX1pvbmVGcmFtZSA9IHtwYXJlbnQ6IG51bGwsIHpvbmU6IG5ldyBab25lKG51bGwsIG51bGwpfTtcbiAgbGV0IF9jdXJyZW50VGFzazogVGFzayA9IG51bGw7XG4gIGxldCBfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzID0gMDtcblxuICBmdW5jdGlvbiBub29wKCkge31cblxuICBmdW5jdGlvbiBfX3N5bWJvbF9fKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiAnX196b25lX3N5bWJvbF9fJyArIG5hbWU7XG4gIH1cblxuXG4gIHBlcmZvcm1hbmNlTWVhc3VyZSgnWm9uZScsICdab25lJyk7XG4gIHJldHVybiBnbG9iYWxbJ1pvbmUnXSA9IFpvbmU7XG59KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgfHwgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgfHwgZ2xvYmFsKTtcbiJdfQ==