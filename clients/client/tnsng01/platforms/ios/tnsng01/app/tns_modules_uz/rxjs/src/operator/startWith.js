"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayObservable_1 = require("../observable/ArrayObservable");
var ScalarObservable_1 = require("../observable/ScalarObservable");
var EmptyObservable_1 = require("../observable/EmptyObservable");
var concat_1 = require("./concat");
var isScheduler_1 = require("../util/isScheduler");
function startWith() {
    var array = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        array[_i] = arguments[_i];
    }
    var scheduler = array[array.length - 1];
    if (isScheduler_1.isScheduler(scheduler)) {
        array.pop();
    }
    else {
        scheduler = null;
    }
    var len = array.length;
    if (len === 1) {
        return concat_1.concatStatic(new ScalarObservable_1.ScalarObservable(array[0], scheduler), this);
    }
    else if (len > 1) {
        return concat_1.concatStatic(new ArrayObservable_1.ArrayObservable(array, scheduler), this);
    }
    else {
        return concat_1.concatStatic(new EmptyObservable_1.EmptyObservable(scheduler), this);
    }
}
exports.startWith = startWith;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhcnRXaXRoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3RhcnRXaXRoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsaUVBQWdFO0FBQ2hFLG1FQUFrRTtBQUNsRSxpRUFBZ0U7QUFDaEUsbUNBQXdDO0FBQ3hDLG1EQUFrRDtBQTBCbEQ7SUFBa0QsZUFBK0I7U0FBL0IsVUFBK0IsRUFBL0IscUJBQStCLEVBQS9CLElBQStCO1FBQS9CLDBCQUErQjs7SUFDL0UsSUFBSSxTQUFTLEdBQWUsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEQsRUFBRSxDQUFDLENBQUMseUJBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sU0FBUyxHQUFHLElBQUksQ0FBQztJQUNuQixDQUFDO0lBRUQsSUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUN6QixFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLE1BQU0sQ0FBQyxxQkFBWSxDQUFDLElBQUksbUNBQWdCLENBQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxFQUFpQixJQUFJLENBQUMsQ0FBQztJQUM1RixDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxxQkFBWSxDQUFDLElBQUksaUNBQWUsQ0FBUyxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQWlCLElBQUksQ0FBQyxDQUFDO0lBQzFGLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNOLE1BQU0sQ0FBQyxxQkFBWSxDQUFDLElBQUksaUNBQWUsQ0FBSSxTQUFTLENBQUMsRUFBaUIsSUFBSSxDQUFDLENBQUM7SUFDOUUsQ0FBQztBQUNILENBQUM7QUFoQkQsOEJBZ0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBcnJheU9ic2VydmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL0FycmF5T2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTY2FsYXJPYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9TY2FsYXJPYnNlcnZhYmxlJztcbmltcG9ydCB7IEVtcHR5T2JzZXJ2YWJsZSB9IGZyb20gJy4uL29ic2VydmFibGUvRW1wdHlPYnNlcnZhYmxlJztcbmltcG9ydCB7IGNvbmNhdFN0YXRpYyB9IGZyb20gJy4vY29uY2F0JztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxUPih0aGlzOiBPYnNlcnZhYmxlPFQ+LCB2MTogVCwgc2NoZWR1bGVyPzogSVNjaGVkdWxlcik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIHYxOiBULCB2MjogVCwgc2NoZWR1bGVyPzogSVNjaGVkdWxlcik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIHYxOiBULCB2MjogVCwgdjM6IFQsIHNjaGVkdWxlcj86IElTY2hlZHVsZXIpOiBPYnNlcnZhYmxlPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxUPih0aGlzOiBPYnNlcnZhYmxlPFQ+LCB2MTogVCwgdjI6IFQsIHYzOiBULCB2NDogVCwgc2NoZWR1bGVyPzogSVNjaGVkdWxlcik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIHYxOiBULCB2MjogVCwgdjM6IFQsIHY0OiBULCB2NTogVCwgc2NoZWR1bGVyPzogSVNjaGVkdWxlcik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIHYxOiBULCB2MjogVCwgdjM6IFQsIHY0OiBULCB2NTogVCwgdjY6IFQsIHNjaGVkdWxlcj86IElTY2hlZHVsZXIpOiBPYnNlcnZhYmxlPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxUPih0aGlzOiBPYnNlcnZhYmxlPFQ+LCAuLi5hcnJheTogQXJyYXk8VCB8IElTY2hlZHVsZXI+KTogT2JzZXJ2YWJsZTxUPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGl0ZW1zIHlvdSBzcGVjaWZ5IGFzIGFyZ3VtZW50cyBiZWZvcmUgaXQgYmVnaW5zIHRvIGVtaXRcbiAqIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqIDxpbWcgc3JjPVwiLi9pbWcvc3RhcnRXaXRoLnBuZ1wiIHdpZHRoPVwiMTAwJVwiPlxuICpcbiAqIEBwYXJhbSB7Li4uVH0gdmFsdWVzIC0gSXRlbXMgeW91IHdhbnQgdGhlIG1vZGlmaWVkIE9ic2VydmFibGUgdG8gZW1pdCBmaXJzdC5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyfSBbc2NoZWR1bGVyXSAtIEEge0BsaW5rIElTY2hlZHVsZXJ9IHRvIHVzZSBmb3Igc2NoZWR1bGluZ1xuICogdGhlIGVtaXNzaW9ucyBvZiB0aGUgYG5leHRgIG5vdGlmaWNhdGlvbnMuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGl0ZW1zIGluIHRoZSBzcGVjaWZpZWQgSXRlcmFibGUgYW5kIHRoZW4gZW1pdHMgdGhlIGl0ZW1zXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEBtZXRob2Qgc3RhcnRXaXRoXG4gKiBAb3duZXIgT2JzZXJ2YWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQ+KHRoaXM6IE9ic2VydmFibGU8VD4sIC4uLmFycmF5OiBBcnJheTxUIHwgSVNjaGVkdWxlcj4pOiBPYnNlcnZhYmxlPFQ+IHtcbiAgbGV0IHNjaGVkdWxlciA9IDxJU2NoZWR1bGVyPmFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICBpZiAoaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgIGFycmF5LnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNjaGVkdWxlciA9IG51bGw7XG4gIH1cblxuICBjb25zdCBsZW4gPSBhcnJheS5sZW5ndGg7XG4gIGlmIChsZW4gPT09IDEpIHtcbiAgICByZXR1cm4gY29uY2F0U3RhdGljKG5ldyBTY2FsYXJPYnNlcnZhYmxlPFQ+KDxUPmFycmF5WzBdLCBzY2hlZHVsZXIpLCA8T2JzZXJ2YWJsZTxUPj50aGlzKTtcbiAgfSBlbHNlIGlmIChsZW4gPiAxKSB7XG4gICAgcmV0dXJuIGNvbmNhdFN0YXRpYyhuZXcgQXJyYXlPYnNlcnZhYmxlPFQ+KDxUW10+YXJyYXksIHNjaGVkdWxlciksIDxPYnNlcnZhYmxlPFQ+PnRoaXMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb25jYXRTdGF0aWMobmV3IEVtcHR5T2JzZXJ2YWJsZTxUPihzY2hlZHVsZXIpLCA8T2JzZXJ2YWJsZTxUPj50aGlzKTtcbiAgfVxufVxuIl19