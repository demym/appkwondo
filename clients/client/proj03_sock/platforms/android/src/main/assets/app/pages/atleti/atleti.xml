<Page xmlns="http://schemas.nativescript.org/tns.xsd" 
 xmlns:PullRefresh="nativescript-pulltorefresh"
 loaded="pageLoaded">
   <ActionBar title="Atleti" cssClass="actionbar">
   <NavigationButton android.systemIcon="ic_menu_back" tap="onNavBtnTap"/>
    <ActionBar.actionItems>
	    
        <!--<ActionItem text="Gare"  ios.position="left" android.position="left" />
        <ActionItem text="right" ios.position="right"/>-->
        <android>
        <ActionItem text="pop"   ios.position="right"  android.position="popup"/>
        <ActionItem text="Refresh"   ios.position="right"  android.position="popup" tap="refetch"/>
        </android>
        <ios>
         <ActionItem ios.position="right" tap="refetch">
                    <ActionItem.actionView>
                        <StackLayout>
                            <Label text="&#xf021;" class="font-awesome"/>
                        </StackLayout>
                    </ActionItem.actionView>
                </ActionItem>
    
      </ios>
        </ActionBar.actionItems>
	</ActionBar>  
	 

   <StackLayout orientation="vertical"> 
   	 <GridLayout rows="20" columns="*,50">
	<Label  id="lb1" textWrap="true" style="text-align: center; font-style:italic;" col="0" />
	<ActivityIndicator visibility="collapsed" id="ai" col="1" />
		</GridLayout>
     <PullRefresh:PullToRefresh refresh="refetch" refreshing="{{loading}}">
  <ListView items="{{ atleti }}" id="lv1"  itemTap="listViewItemTap">
	 <ListView.itemTemplate>
     <StackLayout cssClass="session-container">
       <Label text="{{ doc | formatName() }}" textWrap="true" class="lvlabel lvatleta" />
       <Label text="{{ doc | getCategoria() }}" textWrap="true" class="lvlabel lvcat" style="font-size: 12" />
	   </StackLayout>
    </ListView.itemTemplate>
	</ListView>
  </PullRefresh:PullToRefresh>
	</StackLayout>

</Page>
