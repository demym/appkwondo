<Page xmlns="http://schemas.nativescript.org/tns.xsd" loaded="pageLoaded" navigatedTo="navigatedTo"
xmlns:FAB="nativescript-floatingactionbutton"
>
   <Page.actionBar>
     <!--<ActionBar title="Title">
      <NavigationButton text="Gare"/>
    </ActionBar>-->
    <ActionBar title="Gara" cssClass="actionbar">
	 <NavigationButton text="Go Back" android.systemIcon="ic_menu_back" tap="onNavBtnTap"/>
   
      
      <ActionBar.actionItems>

        <!--<ActionItem text="Gare"  ios.position="left" android.position="left" />
		 <ActionItem text="Guru"  ios.position="left" android.position="left" />-->
        <ActionItem text="Chat" android.systemIcon="ic_menu_start_conversation" tap="gotoChat" ios.position="right"/>
         <ActionItem android.position="popup" text="Refresh" tap="refreshGara" />
         <ActionItem android.position="popup" text="Iscritti" tap="showIscritti" />
         <ActionItem android.position="popup" text="Classifica SocietÃ " tap="showTkdt" />
        <ActionItem android.position="popup" text="About" />
      </ActionBar.actionItems>
        <!--<ActivityIndicator width="30" height="30" style="border:1; right: 10" scol="1" id="ai" busy="{{busy}}" />-->
    </ActionBar>
  </Page.actionBar>
  <!--<ActivityIndicator busy="{{ isLoading }}" />-->
 	  <!--<ScrollView>-->
  
<StackLayout  orientation="vertical">

   <GridLayout cssClass="garapanel" rows="30,35" columns="300,*">
  
    <StackLayout  orientation="horizontal" tap="tapTitle" row="0" colSpan="2">

 <Label id="garalocationdata"  style="color: white; font-size: 13; width: 100%; margin-left: 10; margin-top: 4;" text="{{garalocationdata}}" />
  <!--<Label id="garatitle" cssClass="atleta" margin="5" text="{{titologara}}" />
  <Label id="garalocation" style="font-style: italic;" margin="5" text="{{location}}"/>-->
  
  </StackLayout>
  <StackLayout row="1" col="1">
  <Button  tap="filterData" cssClass="filterbtn" style="vertical-align: top; height: 70;" text="Filtri"/>
  </StackLayout>
  <!--<StackLayout row="1" col="1">-->
 
  
 
<GridLayout row="1" col="0" rows="25" style="text-align: center; background-color: black;" columns="250,*">

<Border borderWidth="1" borderColor="black" style="text-align: center; margin-left: 5; background-color: black;" col="0">
 <StackLayout style="border-size: 1; background-color: #000; text-align: center; border-color: black; padding: 4" orientation="horizontal" >

<Label cssClass="medaglie" style="color: yellow; " text="{{'ORI: '+ori}}"/>
<Label cssClass="medaglie" style="color: silver; " text="{{'  ARG: '+argenti}}"/>
<Label cssClass="medaglie" style="color: orange; " text="{{'  BRO: '+bronzi}}"/>

</StackLayout>

</Border>
<ActivityIndicator width="30" height="30" style="border:1;right: 10; color: yellow;" col="1" id="ai" busy="{{busy}}" />  

</GridLayout>

<!--<Button style="background-color: #222; color: orange; font-size: 12; height: 40" text="{{'ORI: '+ori+'  ARG: '+argenti+'  BRO: '+bronzi}}" />-->



 <!--<ActivityIndicator  style="border:1;right: 10" scol="1" id="ai" busy="true" />-->

<!-- </StackLayout>-->


  
  
</GridLayout>
  <!--<StackLayout orientation="horizontal" height="50">
  <Button tap="byprogTap" cssClass="pulsbar" text="Match" width="120" />
  <Button tap="byatletaTap" cssClass="pulsbar" text="Atleti" width="120"/>
  <Button tap="bycronacaTap" cssClass="pulsbar" text="Cronaca" width="120" />

   </StackLayout>-->
   <!--<SegmentedBar style="vertical-align: top; margin: 20;" selectedIndex="{{ barselectedIndex }}">
    <SegmentedBar.items>
      <SegmentedBarItem title="Match" />
      <SegmentedBarItem title="Atleta" />
      <SegmentedBarItem title="Cronaca" />
    </SegmentedBar.items>
  </SegmentedBar>-->
  <!--<ScrollView orientation="horizontal">
            <StackLayout orientation="horizontal" class="scroll-menu">
                <StackLayout class="scroll-pane">
                    <Label text="Your cool Slide" />
                </StackLayout>
                <StackLayout class="scroll-pane">
                   <Button text="&#xf1e0; Test" tap="{{ tapAction }}" class="font-awesome" />
                </StackLayout>
                <StackLayout class="scroll-pane">
                    <Button text="Button" />
                </StackLayout>
                <StackLayout class="scroll-pane">
                    <Button text="Button" />
                </StackLayout>
                <StackLayout class="scroll-pane">
                    <Button text="Button" />
                </StackLayout>
            </StackLayout>
        </ScrollView>-->

     <TabView>
   <TabView.items>
     <TabViewItem title="Per match">
       <TabViewItem.view>
   <ListView  id="lvprog" itemTap="matchTap" items="{{mbp}}" visibility="visible">
	 <ListView.itemTemplate>
	 <StackLayout orientation="horizontal">
	   <StackLayout  cssClass="session-container" width="50">
	     <!--<Label text="imma" />-->

		 <Image id="imgmatch" width="36" height="36" src="{{ doc.imgurl }}" />
	   </StackLayout>
	   <StackLayout cssClass="session-container" orientation="vertical">
       <Label text="{{ doc.matchid}}" textWrap="true" cssClass="match" />
	   <Label text="{{ doc.atletaname }}" textWrap="true" cssClass="atleta" />
	   <Label text="{{ doc.risultext }}" textWrap="true" cssClass="risult" />
	  </StackLayout>
	 </StackLayout>
    </ListView.itemTemplate>
      
	</ListView>

       </TabViewItem.view>
     </TabViewItem>
	 <TabViewItem title="Per atleta">
       <TabViewItem.view>
        <ListView  id="lvatleta" items="{{mba}}" itemTap="matchAtletaTap" visibility="visible"  >
	 <ListView.itemTemplate>
	 <StackLayout orientation="horizontal">
	   <StackLayout cssClass="session-container" width="50">
	     <!--<Label text="imma" />-->
		 <Image width="36" height="36" src="{{ imgurl }}" />
	   </StackLayout>
	   <StackLayout cssClass="session-container" orientation="vertical" id="sv2">

	   <!--<TextView text="{{ nome + '\n' + matches }}" class="lvitem" />
       <TextView text="{{ nome + ' - ' + matches }}" class="lvitem" />-->

	  <Label text="{{ nome}}" textWrap="true" cssClass="atleta" />
	   <!--<Label text="{{ matchesarray | getMatchesStyle() }}" textWrap="true" cssClass="match" />-->
	   <StackLayout orientation="horizontal" id="stack">

	   </StackLayout>
	    <Repeater items="{{ matchesarray }}">
			<Repeater.itemsLayout>
			   <WrapLayout />
			</Repeater.itemsLayout>
			<Repeater.itemTemplate>
			   <Label text="{{ matchid }}" margin="3" cssClass="{{mclass}}"/>
			</Repeater.itemTemplate>
		</Repeater>
       <!--<Label text="{{ nome + ' - ' + matches }}" textWrap="true" class="lvitem" />
	   <Label text="{{ nome + ' - ' + matches }}" textWrap="true" class="lvitem" />-->
	    </StackLayout>
	</StackLayout>

    </ListView.itemTemplate>
	</ListView>
       </TabViewItem.view>
     </TabViewItem>
     <TabViewItem title="Cronaca">
       <TabViewItem.view>
           <ListView   id="lvcronaca" items="{{cronaca}}" visibility="visible">
	 <ListView.itemTemplate>
	  <StackLayout cssClass="session-container">
	   <Label text="{{ time }}" textWrap="true" cssClass="time" />
	   <Label text="{{ text }}" textWrap="true" cssClass="cronaca" />
	   </StackLayout>
    </ListView.itemTemplate>
	</ListView>
       </TabViewItem.view>
     </TabViewItem>

     <TabViewItem title="Dettagli gara">
       <TabViewItem.view>
       
         <StackLayout id="garainfo" style="padding: 11; color: black; font-size: 14; font-weight: normal; "> 

           <Label text="dettagli gara"></Label>
      
         </StackLayout>  
         
       </TabViewItem.view>
     </TabViewItem>

    


     
   </TabView.items>
 </TabView>
  



	</StackLayout>


 <!--</ScrollView>-->

</Page>
